<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2023/12/27/srm/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81/"/>
      <url>/2023/12/27/srm/%E4%BC%9A%E8%AE%AE%E7%BA%AA%E8%A6%81/</url>
      
        <content type="html"><![CDATA[<h1 id="12-27会议纪要"><a href="#12-27会议纪要" class="headerlink" title="12&#x2F;27会议纪要"></a>12&#x2F;27会议纪要</h1><h2 id="供应商分类"><a href="#供应商分类" class="headerlink" title="供应商分类"></a>供应商分类</h2><p>是否需要增加品类管理分类层面</p><p>1.分类:品类负责人做审批管理，进行经费的分析,供应商管理的基础数据。</p><p>2.只做复核功能，供应商信息归集团管理。一个供应只能对应一个类型。</p><p>3.供应商分类、品类分类；直采物料在品类里分类，品类分类一定要有，有些品类下面一定要有编码。供应商也可以有二级分类。</p><p>和品类是不同的维度。供应商分类可以粗一点，品类的分类要细一点。主要用到直采和间采的分类。</p><ol start="4"><li></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>MD5进行文件一致性校验</title>
      <link href="/2023/12/26/oa/%E5%A6%82%E4%BD%95%E7%94%A8MD5%E8%BF%9B%E8%A1%8C%E6%96%87%E4%BB%B6%E4%B8%80%E8%87%B4%E6%80%A7%E6%A0%A1%E9%AA%8C/"/>
      <url>/2023/12/26/oa/%E5%A6%82%E4%BD%95%E7%94%A8MD5%E8%BF%9B%E8%A1%8C%E6%96%87%E4%BB%B6%E4%B8%80%E8%87%B4%E6%80%A7%E6%A0%A1%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h1 id="如何用MD5进行文件一致性校验"><a href="#如何用MD5进行文件一致性校验" class="headerlink" title="如何用MD5进行文件一致性校验"></a>如何用MD5进行文件一致性校验</h1><p>背景是文件通过OA上传到文档云需要定期进行文件是否篡改校验，解决方案是在上传到文档云的时候，请求文档云的服务，获取文件，然后解析成MD5保存到OA系统里，定时任务实时获取文档云当前的MD5值和OA系统的进行比对。</p><h2 id="HTTP请求工具类"><a href="#HTTP请求工具类" class="headerlink" title="HTTP请求工具类"></a>HTTP请求工具类</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br></pre></td><td class="code"><pre><span class="line">package hisun.util;</span><br><span class="line"></span><br><span class="line">import com.alibaba.fastjson.JSON;</span><br><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">import org.apache.commons.lang3.StringUtils;</span><br><span class="line">import org.apache.http.HttpEntity;</span><br><span class="line">import org.apache.http.HttpResponse;</span><br><span class="line">import org.apache.http.client.HttpClient;</span><br><span class="line">import org.apache.http.client.config.RequestConfig;</span><br><span class="line">import org.apache.http.client.methods.CloseableHttpResponse;</span><br><span class="line">import org.apache.http.client.methods.HttpGet;</span><br><span class="line">import org.apache.http.client.methods.HttpPost;</span><br><span class="line">import org.apache.http.client.utils.URIBuilder;</span><br><span class="line">import org.apache.http.entity.StringEntity;</span><br><span class="line">import org.apache.http.impl.client.CloseableHttpClient;</span><br><span class="line">import org.apache.http.impl.client.HttpClientBuilder;</span><br><span class="line">import org.apache.http.impl.client.HttpClients;</span><br><span class="line">import org.apache.http.message.BasicHeader;</span><br><span class="line">import org.apache.http.protocol.HTTP;</span><br><span class="line">import org.apache.http.util.EntityUtils;</span><br><span class="line">import weaver.conn.StringUtil;</span><br><span class="line">import weaver.file.Prop;</span><br><span class="line">import weaver.general.BaseBean;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.net.HttpURLConnection;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.nio.charset.StandardCharsets;</span><br><span class="line">import java.util.Base64;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @author cbt</span><br><span class="line"> * @date 2023/8/21 15:48</span><br><span class="line"> */</span><br><span class="line">public class HttpUtil &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 发送post请求</span><br><span class="line">     * @param url</span><br><span class="line">     * @param param</span><br><span class="line">     * @param encoding</span><br><span class="line">     * @param contentType</span><br><span class="line">     * @return</span><br><span class="line">     * @throws IOException</span><br><span class="line">     */</span><br><span class="line">    public static String sendPostReq(String url, String param,String encoding,int contentType) throws IOException &#123;</span><br><span class="line">        CloseableHttpClient httpClient = HttpClients.createDefault();</span><br><span class="line">        try &#123;</span><br><span class="line">            String body = &quot;&quot;;</span><br><span class="line"></span><br><span class="line">            //创建httpclient对象</span><br><span class="line">            //创建post方式请求对象</span><br><span class="line">            HttpPost httpPost = new HttpPost(url);</span><br><span class="line"></span><br><span class="line">            //设置请求参数实体</span><br><span class="line">            StringEntity reqParam = new StringEntity(param, &quot;utf-8&quot;);</span><br><span class="line">            reqParam.setContentEncoding(new BasicHeader(HTTP.CONTENT_TYPE,</span><br><span class="line">                    &quot;application/json&quot;));</span><br><span class="line">            //将请求参数放到请求对象中</span><br><span class="line">            httpPost.setEntity(reqParam);</span><br><span class="line"></span><br><span class="line">            //设置请求报文头信息</span><br><span class="line">            httpPost.setHeader (&quot;Accept&quot;, &quot;application/json, text/javascript, */*; q=0.01&quot;);</span><br><span class="line">            if (contentType == 0)&#123;</span><br><span class="line">                httpPost.setHeader(&quot;Content-type&quot;, &quot;application/json;charset=UTF-8&quot;);//设置发送JSON请求</span><br><span class="line">            &#125;else if (contentType == 1)&#123;</span><br><span class="line">                httpPost.setHeader(&quot;Content-type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);//设置发送表单请求</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            httpPost.setHeader(&quot;User-Agent&quot;, &quot;Mozilla/5.0 (Linux; Android 9; CLT-AL01 Build/HUAWEICLT-AL01; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/69.0.3497.100 Mobile Safari/537.36 Html5Plus/1.0&quot;);</span><br><span class="line"></span><br><span class="line">            //发送请求，并拿到结果（同步阻塞）</span><br><span class="line">            CloseableHttpResponse response = httpClient.execute(httpPost);</span><br><span class="line">            //获取返回结果</span><br><span class="line">            HttpEntity entity = response.getEntity();</span><br><span class="line">            if (entity != null) &#123;</span><br><span class="line">                //按指定编码转换结果实体为String类型</span><br><span class="line">                body = EntityUtils.toString(entity, encoding);</span><br><span class="line">            &#125;</span><br><span class="line">            EntityUtils.consume(entity);</span><br><span class="line">            //释放Http请求链接</span><br><span class="line">            response.close();</span><br><span class="line">            return body;</span><br><span class="line">        &#125; catch (Throwable e)&#123;</span><br><span class="line">            BaseBean baseBean = new BaseBean();</span><br><span class="line">            baseBean.writeLog(&quot;请求服务失败...&quot;+url);</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            httpClient.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public static String post(String url,String formData) throws IOException &#123;</span><br><span class="line"></span><br><span class="line">        // 创建URL对象</span><br><span class="line">        URL obj = new URL(url);</span><br><span class="line">        // 打开连接</span><br><span class="line">        HttpURLConnection conn = (HttpURLConnection) obj.openConnection();</span><br><span class="line"></span><br><span class="line">        // 设置请求方法为POST</span><br><span class="line">        conn.setRequestMethod(&quot;POST&quot;);</span><br><span class="line">        // 允许写入请求内容</span><br><span class="line">        conn.setDoOutput(true);</span><br><span class="line"></span><br><span class="line">        // 设置请求头部信息</span><br><span class="line">        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);</span><br><span class="line">        conn.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);</span><br><span class="line"></span><br><span class="line">        // 获取请求体输出流，写入表单数据</span><br><span class="line">        try (OutputStream os = conn.getOutputStream()) &#123;</span><br><span class="line">            byte[] formDataBytes = formData.getBytes(&quot;UTF-8&quot;);</span><br><span class="line">            os.write(formDataBytes);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 获取响应状态码</span><br><span class="line">        int responseCode = conn.getResponseCode();</span><br><span class="line">        System.out.println(&quot;Response Code: &quot; + responseCode);</span><br><span class="line"></span><br><span class="line">        // 读取响应内容</span><br><span class="line">        StringBuilder response = new StringBuilder();</span><br><span class="line">        try (BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream()))) &#123;</span><br><span class="line">            String line;</span><br><span class="line">            while ((line = in.readLine()) != null) &#123;</span><br><span class="line">                response.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 打印响应内容</span><br><span class="line">        System.out.println(&quot;Response: &quot; + response.toString());</span><br><span class="line"></span><br><span class="line">        // 关闭连接</span><br><span class="line">        conn.disconnect();</span><br><span class="line">        return response.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * get 方式调用</span><br><span class="line">     *</span><br><span class="line">     * @param url</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static String get(String url) &#123;</span><br><span class="line">        InputStream is = null;</span><br><span class="line">        String body = null;</span><br><span class="line">        StringBuilder res = new StringBuilder();</span><br><span class="line">        // 实例化CloseableHttpClient</span><br><span class="line">        CloseableHttpClient client = HttpClients.createDefault();</span><br><span class="line">        CloseableHttpResponse response = null;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        try &#123;</span><br><span class="line">            // 添加URL和请求参数</span><br><span class="line">            //替换空格;get请求，url拼接参数时，参数值可能存在空格，需要对空格做处理，不然接口会调不通</span><br><span class="line">            url = url.replaceAll(&quot; &quot;, &quot;%20&quot;);</span><br><span class="line">            URIBuilder ub = new URIBuilder(url);</span><br><span class="line">            // 使用get方法添加URL</span><br><span class="line">            HttpGet get = new HttpGet(ub.build());</span><br><span class="line">            // 设置请求超时时间</span><br><span class="line">            RequestConfig config = RequestConfig.custom().setConnectTimeout(5000).build();</span><br><span class="line">            get.setConfig(config);</span><br><span class="line">            //使用http调用远程，获取相应信息</span><br><span class="line">            response = client.execute(get);</span><br><span class="line">            // 获取响应状态码，可根据是否响应正常来判断是否需要进行下一步</span><br><span class="line">            int statusCode = response.getStatusLine().getStatusCode();</span><br><span class="line">            if (statusCode != 200) &#123;</span><br><span class="line">                return &quot;请求失败 statusCode=&quot; + statusCode;</span><br><span class="line">            &#125;</span><br><span class="line">            // 获取响应实体</span><br><span class="line">            HttpEntity entity = response.getEntity();</span><br><span class="line">            // 读取响应内容</span><br><span class="line">            if (entity != null) &#123;</span><br><span class="line">                is = entity.getContent();</span><br><span class="line">                BufferedReader br = new BufferedReader(new InputStreamReader(is, &quot;UTF-8&quot;));</span><br><span class="line">                while ((body = br.readLine()) != null) &#123;</span><br><span class="line">                    res.append(body);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            baseBean.writeLog(&quot;请求服务失败....&quot;+url);</span><br><span class="line">        &#125;finally &#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                client.close();</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return res.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 请求basic auth http请求</span><br><span class="line">     * @param url</span><br><span class="line">     * @param requestBody</span><br><span class="line">     * @param username</span><br><span class="line">     * @param password</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static String basicAuthRequest(String url, String requestBody, String username, String password) throws UnsupportedEncodingException &#123;</span><br><span class="line">        // 创建HttpClient实例</span><br><span class="line">        HttpClient httpClient = HttpClientBuilder.create().build();</span><br><span class="line"></span><br><span class="line">        // 创建HttpPost实例</span><br><span class="line">        HttpPost httpPost = new HttpPost(url);</span><br><span class="line"></span><br><span class="line">        // 设置请求体</span><br><span class="line">        if (StringUtils.isNotEmpty(requestBody))&#123;</span><br><span class="line">            HttpEntity entity = new StringEntity(requestBody);</span><br><span class="line">            httpPost.setEntity(entity);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 设置Header参数</span><br><span class="line">        httpPost.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);</span><br><span class="line">        httpPost.setHeader(&quot;Accept&quot;, &quot;application/json&quot;);</span><br><span class="line"></span><br><span class="line">        // 设置Authorization参数（Basic Auth）</span><br><span class="line">        String authString = username + &quot;:&quot; + password;</span><br><span class="line">        String encodedAuthString = Base64.getEncoder().encodeToString(authString.getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        httpPost.setHeader(&quot;Authorization&quot;, &quot;Basic &quot; + encodedAuthString);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            // 发送请求并获取响应</span><br><span class="line">            HttpResponse response = httpClient.execute(httpPost);</span><br><span class="line">            HttpEntity responseEntity = response.getEntity();</span><br><span class="line">            return EntityUtils.toString(responseEntity);</span><br><span class="line"></span><br><span class="line">            // 处理响应结果</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取ZOOM token</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public static String getZoomBasicAuthToken() throws UnsupportedEncodingException &#123;</span><br><span class="line">        String clientId = Prop.getPropValue(&quot;hisun&quot;, &quot;Zoom_client_id&quot;);</span><br><span class="line">        String username = Prop.getPropValue(&quot;hisun&quot;, &quot;Zoom_username&quot;);</span><br><span class="line">        String password = Prop.getPropValue(&quot;hisun&quot;, &quot;Zoom_password&quot;);</span><br><span class="line">        String response = basicAuthRequest(&quot;https://zoom.us/oauth/token?grant_type=account_credentials&amp;account_id=&quot;+clientId, null, username,password);</span><br><span class="line">        if (StringUtils.isNotEmpty(response))&#123;</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(response);</span><br><span class="line">            return jsonObject.getString(&quot;access_token&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="获取MD5值工具类"><a href="#获取MD5值工具类" class="headerlink" title="获取MD5值工具类"></a>获取MD5值工具类</h2><p>通过HTTP接口请求文档云的地址，然后下载压缩文件流，读取文件内容更新MD5摘要。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br><span class="line">959</span><br><span class="line">960</span><br><span class="line">961</span><br><span class="line">962</span><br><span class="line">963</span><br><span class="line">964</span><br><span class="line">965</span><br><span class="line">966</span><br><span class="line">967</span><br><span class="line">968</span><br></pre></td><td class="code"><pre><span class="line">package hisun.util;</span><br><span class="line"></span><br><span class="line">import com.alibaba.fastjson.JSON;</span><br><span class="line">import com.alibaba.fastjson.JSONArray;</span><br><span class="line">import com.alibaba.fastjson.JSONObject;</span><br><span class="line">import io.swagger.models.auth.In;</span><br><span class="line">import org.apache.commons.lang3.StringUtils;</span><br><span class="line">import org.apache.http.HttpResponse;</span><br><span class="line">import org.apache.http.client.methods.HttpPost;</span><br><span class="line">import org.apache.http.entity.ContentType;</span><br><span class="line">import org.apache.http.entity.mime.MultipartEntityBuilder;</span><br><span class="line">import org.apache.http.entity.mime.content.StringBody;</span><br><span class="line">import org.apache.http.impl.client.CloseableHttpClient;</span><br><span class="line">import org.apache.http.impl.client.HttpClients;</span><br><span class="line">import org.apache.http.protocol.HTTP;</span><br><span class="line">import org.apache.http.util.EntityUtils;</span><br><span class="line">import weaver.conn.RecordSet;</span><br><span class="line">import weaver.conn.StringUtil;</span><br><span class="line">import weaver.crm.Maint.CustomerInfoComInfo;</span><br><span class="line">import weaver.docs.category.MainCategoryComInfo;</span><br><span class="line">import weaver.docs.category.SecCategoryComInfo;</span><br><span class="line">import weaver.docs.category.SubCategoryComInfo;</span><br><span class="line">import weaver.docs.docs.DocComInfo;</span><br><span class="line">import weaver.docs.docs.DocImageManager;</span><br><span class="line">import weaver.docs.docs.ImageFileIdUpdate;</span><br><span class="line">import weaver.docs.webservices.DocAttachment;</span><br><span class="line">import weaver.docs.webservices.DocInfo;</span><br><span class="line">import weaver.docs.webservices.DocService;</span><br><span class="line">import weaver.docs.webservices.DocServiceImpl;</span><br><span class="line">import weaver.file.ImageFileManager;</span><br><span class="line">import weaver.file.Prop;</span><br><span class="line">import weaver.general.BaseBean;</span><br><span class="line">import weaver.general.MD5;</span><br><span class="line">import weaver.general.Util;</span><br><span class="line">import weaver.hrm.User;</span><br><span class="line">import weaver.hrm.company.DepartmentComInfo;</span><br><span class="line">import weaver.hrm.resource.ResourceComInfo;</span><br><span class="line">import weaver.login.Base64;</span><br><span class="line">import weaver.systeminfo.language.LanguageComInfo;</span><br><span class="line"></span><br><span class="line">import java.io.*;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.net.URL;</span><br><span class="line">import java.security.MessageDigest;</span><br><span class="line">import java.security.NoSuchAlgorithmException;</span><br><span class="line">import java.util.*;</span><br><span class="line">import java.util.concurrent.ConcurrentHashMap;</span><br><span class="line">import java.util.zip.ZipEntry;</span><br><span class="line">import java.util.zip.ZipInputStream;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @author cbt</span><br><span class="line"> * @date 2023/8/21 16:00</span><br><span class="line"> * 文档云操作工具类</span><br><span class="line"> */</span><br><span class="line">public class EfileUtil &#123;</span><br><span class="line"></span><br><span class="line">    private static ImageFileIdUpdate imageFileIdUpdate = new ImageFileIdUpdate();</span><br><span class="line">    private static final Map sessionIDMap = new ConcurrentHashMap();</span><br><span class="line">    private static final Map sessionTimeMap = new ConcurrentHashMap();</span><br><span class="line">    private byte[] data;</span><br><span class="line"></span><br><span class="line">    public static final String url = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;)+ &quot;/api/services/Org/UserLoginIntegrationByUserLoginName&quot;;</span><br><span class="line"></span><br><span class="line">    public static final String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line"></span><br><span class="line">    private volatile static EfileUtil efileUtil;</span><br><span class="line"></span><br><span class="line">    private EfileUtil() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public static EfileUtil getEfileUtil() &#123;</span><br><span class="line">        if (efileUtil == null) &#123;</span><br><span class="line">            synchronized (EfileUtil.class) &#123;</span><br><span class="line">                if (efileUtil == null) &#123;</span><br><span class="line">                    efileUtil = new EfileUtil();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return efileUtil;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 根据文件名称获取文件目录id</span><br><span class="line">     * @param name</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public String getWjmlPkcostSubj(String name,String parent )&#123;</span><br><span class="line">        String sql = &quot;&quot;;</span><br><span class="line">        String formName = Prop.getPropValue(&quot;hisun&quot;, &quot;efile_form_name&quot;);</span><br><span class="line">        if (StringUtils.isEmpty(parent))&#123;</span><br><span class="line">            sql  = &quot;select pkcostsubj from &quot;+formName+&quot; where costname = &#x27;&quot; + name +&quot;&#x27;&quot;;</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            sql = &quot;select pkcostsubj from &quot;+formName+&quot; where pkparent = &#x27;&quot;+parent +&quot;&#x27; and  costname = &#x27;&quot; + name +&quot;&#x27;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        RecordSet rs = new RecordSet();</span><br><span class="line">        rs.execute(sql);</span><br><span class="line">        while (rs.next())&#123;</span><br><span class="line">            return rs.getString(1);</span><br><span class="line">        &#125;</span><br><span class="line">        return &quot;&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取文件目录</span><br><span class="line">     *</span><br><span class="line">     * @param folderId 文件夹的id</span><br><span class="line">     *                 type FilesInfo  FoldersInfo</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public JSONArray getEfileJsonArray(String folderId, String type) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            //Json请求参数</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String efileUrl =  preUrl+&quot;/api/services/Doc/GetChildListByFolderId?pageNumber=1&amp;pageSize=100000000&amp;token=&quot; + token + &quot;&amp;folderId=&quot; + folderId;</span><br><span class="line">            String result = HttpUtil.get(efileUrl);</span><br><span class="line">            JSONObject jsonObject1 = JSON.parseObject(result);</span><br><span class="line">            JSONObject data = jsonObject1.getJSONObject(&quot;data&quot;);</span><br><span class="line">            JSONArray filesInfo = data.getJSONArray(type);</span><br><span class="line">            return filesInfo;</span><br><span class="line">        &#125; catch (IOException e) &#123;</span><br><span class="line">            return null;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 上传文件</span><br><span class="line">     *</span><br><span class="line">     * @param fileId 文件id</span><br><span class="line">     * @param folderId 需要移交的文件夹id</span><br><span class="line">     *</span><br><span class="line">     */</span><br><span class="line">    public  String uploadEfile(String folderId, String fileId,String no)  &#123;</span><br><span class="line">        Integer retryFalg = 0;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        String result = &quot;&quot;;</span><br><span class="line">        while (retryFalg &lt; 20)&#123;</span><br><span class="line">            retryFalg ++;</span><br><span class="line">             result = this.updaLoad(folderId, fileId, no);</span><br><span class="line">            if (StringUtils.isNotEmpty(result))&#123;</span><br><span class="line">                retryFalg = 1000;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                baseBean.writeLog(&quot;获取文件上传id失败.....&quot; + folderId + &quot;:&quot; + fileId + &quot;:&quot;+ no);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取文件流解码上传文件</span><br><span class="line">     * @param folderId</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @param no</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public String updaLoad(String folderId, String fileId,String no)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            //获取文件编码</span><br><span class="line">            BaseBean baseBean = new BaseBean();</span><br><span class="line">            baseBean.writeLog(&quot;[上传文件]&quot;+folderId +&quot;:&quot;+fileId+&quot;:&quot;+no);</span><br><span class="line">            String fileContent = this.getFileContent(fileId);</span><br><span class="line">            String fileName = this.getFileName2(fileId);</span><br><span class="line">            String filedId = &quot;&quot;;//文件回传id</span><br><span class="line">            if (StringUtils.isEmpty(fileContent))&#123;</span><br><span class="line">                return &quot;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            //解码转流</span><br><span class="line">            CloseableHttpClient client = null;</span><br><span class="line">            String result = null;</span><br><span class="line">            byte[] content = Base64.decode(fileContent);</span><br><span class="line">            InputStream inputStream = new ByteArrayInputStream(content);</span><br><span class="line">            //获取文件大小</span><br><span class="line">            String[] split = fileName.split(&quot;\\.&quot;);</span><br><span class="line">            int length = split.length;</span><br><span class="line">            if (StringUtils.isNotEmpty(no))&#123;</span><br><span class="line">                fileName = split[0] + no + &quot;.&quot;+split[length - 1];</span><br><span class="line">            &#125;</span><br><span class="line">            baseBean.writeLog(&quot;[上传文件]&quot;+fileName);</span><br><span class="line">            String fileType = split[length - 1];</span><br><span class="line">            try &#123;</span><br><span class="line">                //获取token</span><br><span class="line">                String param = &quot;&#123;\n&quot; +</span><br><span class="line">                        &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                        &quot;&#125;&quot;;</span><br><span class="line">                String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">                //获取regionHash</span><br><span class="line">                HttpPost webCorePost = new HttpPost(preUrl+&quot;/WebCore?module=RegionDocOperationApi&amp;fun=CheckAndCreateDocInfo&quot;);</span><br><span class="line">                MultipartEntityBuilder webBuilder = MultipartEntityBuilder.create();</span><br><span class="line">                webBuilder.addTextBody(&quot;folderId&quot;, folderId);</span><br><span class="line">                ContentType contentType = ContentType.create(HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);</span><br><span class="line">                StringBody stringBody = new StringBody(fileName, contentType);</span><br><span class="line">                webBuilder.addPart(&quot;fileName&quot;, stringBody);</span><br><span class="line">                webBuilder.addTextBody(&quot;type&quot;, fileType);</span><br><span class="line">                webBuilder.addTextBody(&quot;fileModel&quot;, &quot;UPLOAD&quot;);</span><br><span class="line">                webBuilder.addTextBody(&quot;attachType&quot;, &quot;0&quot;);</span><br><span class="line">                webBuilder.addTextBody(&quot;size&quot;, String.valueOf(content.length));</span><br><span class="line">                webCorePost.setEntity(webBuilder.build());</span><br><span class="line">                client = HttpClients.createDefault();</span><br><span class="line">                HttpResponse response1 = null;</span><br><span class="line">                String regionHash = &quot;&quot;;</span><br><span class="line">                String token = &quot;&quot;;</span><br><span class="line">                Integer retryCount = 0;</span><br><span class="line">                while (retryCount &lt; 20)&#123;</span><br><span class="line">                    retryCount++;</span><br><span class="line">                    try &#123;</span><br><span class="line">                        String tokenRes = HttpUtil.sendPostReq(preUrl+&quot;/api/services/Org/UserLoginIntegrationByUserLoginName&quot;, param, &quot;utf-8&quot;, 0);</span><br><span class="line">                        JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">                        token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">                        webBuilder.addTextBody(&quot;token&quot;, token);</span><br><span class="line">                        webCorePost.setEntity(webBuilder.build());</span><br><span class="line">                        response1 = client.execute(webCorePost);</span><br><span class="line">                        if (response1.getStatusLine().getStatusCode() == 200) &#123;</span><br><span class="line">                            // 取回服务器端的响应结果</span><br><span class="line">                            result = EntityUtils.toString(response1.getEntity(), &quot;utf-8&quot;);</span><br><span class="line">                            JSONObject jsonObject1 = JSON.parseObject(result);</span><br><span class="line">                            String result1 = jsonObject1.getString(&quot;result&quot;);</span><br><span class="line">                            if (!StringUtils.equals(result1, &quot;0&quot;)) &#123;</span><br><span class="line">                                String reason = jsonObject1.getString(&quot;reason&quot;);</span><br><span class="line">                                throw new RuntimeException(reason);</span><br><span class="line">                            &#125;</span><br><span class="line">                            JSONObject data = jsonObject1.getJSONObject(&quot;data&quot;);</span><br><span class="line">                            regionHash = data.getString(&quot;RegionHash&quot;);</span><br><span class="line">                            filedId = data.getString(&quot;FileId&quot;);</span><br><span class="line">                            retryCount = 10000;</span><br><span class="line">                        &#125;else &#123;</span><br><span class="line">                            baseBean.writeLog(&quot;获取文件流的响应结果失败:&quot;+JSON.toJSONString(response1));</span><br><span class="line">                            Thread.sleep(5000);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; catch (Throwable e) &#123;</span><br><span class="line">                        baseBean.writeLog(&quot;[获取文件流的响应结果失败]&quot;+EntityUtils.toString(response1.getEntity(), &quot;utf-8&quot;));</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                        Thread.sleep(5000);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                client = HttpClients.createDefault();</span><br><span class="line">                HttpPost httpPost = new HttpPost(preUrl+&quot;/document/upload&quot;);</span><br><span class="line">                MultipartEntityBuilder builder = MultipartEntityBuilder.create();</span><br><span class="line">                //builder.addTextBody(&quot;id&quot;, &quot;1&quot;);</span><br><span class="line">                builder.addTextBody(&quot;regionHash&quot;, regionHash);</span><br><span class="line">                builder.addTextBody(&quot;size&quot;, String.valueOf(content.length));</span><br><span class="line">                builder.addTextBody(&quot;uploadId&quot;, UUID.randomUUID().toString());</span><br><span class="line">                builder.addTextBody(&quot;regionId&quot;, &quot;1&quot;);</span><br><span class="line">                contentType = ContentType.create(HTTP.PLAIN_TEXT_TYPE, HTTP.UTF_8);</span><br><span class="line">                stringBody = new StringBody(fileName, contentType);</span><br><span class="line">                builder.addPart(&quot;fileName&quot;, stringBody);</span><br><span class="line">                builder.addTextBody(&quot;chunks&quot;, &quot;1&quot;);</span><br><span class="line">                builder.addTextBody(&quot;chunk&quot;, &quot;0&quot;);</span><br><span class="line">                builder.addTextBody(&quot;chunkSize&quot;, String.valueOf(content.length));</span><br><span class="line">                builder.addTextBody(&quot;blockSize&quot;, String.valueOf(content.length));</span><br><span class="line">                builder.addTextBody(&quot;token&quot;, token);</span><br><span class="line">                builder.addTextBody(&quot;code&quot;, &quot;1&quot;);</span><br><span class="line">                inputStream = new ByteArrayInputStream(content);</span><br><span class="line">                //addBinaryBody()该方法传入二进制内容，可以传入InputStream，File, 参数三是传入的类型，参数四是文件名称</span><br><span class="line">                builder.addBinaryBody(&quot;form&quot;, inputStream, ContentType.MULTIPART_FORM_DATA, fileName);</span><br><span class="line">                builder.addBinaryBody(&quot;file&quot;, inputStream, ContentType.MULTIPART_FORM_DATA, fileName);</span><br><span class="line">                httpPost.setEntity(builder.build());</span><br><span class="line">                HttpResponse response = client.execute(httpPost);</span><br><span class="line">                result = EntityUtils.toString(response.getEntity(), &quot;utf-8&quot;);</span><br><span class="line">                if (response.getStatusLine().getStatusCode() == 200) &#123;</span><br><span class="line">                    // 取回服务器端的响应结果</span><br><span class="line">                    JSONObject jsonObject1 = JSON.parseObject(result);</span><br><span class="line">                    String errorCode = jsonObject1.getString(&quot;errorCode&quot;);</span><br><span class="line">                    if (StringUtils.equals(errorCode,&quot;0&quot;))&#123;</span><br><span class="line">                        return filedId;</span><br><span class="line">                    &#125;else &#123;</span><br><span class="line">                        baseBean.writeLog(&quot;[提交文件错误返回结果]&quot;+result);</span><br><span class="line">                        return &quot;&quot;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                return &quot;&quot;;</span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">                return &quot;&quot;;</span><br><span class="line">            &#125; finally &#123;</span><br><span class="line">                try &#123;</span><br><span class="line">                    client.close();</span><br><span class="line">                &#125; catch (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 创建文件夹</span><br><span class="line">     * @param name 名称</span><br><span class="line">     * @param remark 备注</span><br><span class="line">     * @param parentFolderId 父级文件夹id</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public String createFolder(String name,String remark,String parentFolderId)&#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        baseBean.writeLog(&quot;上传文件夹:&quot;+name+&quot;:&quot;+&quot;:&quot;+remark+&quot;:&quot;+parentFolderId);</span><br><span class="line">        try &#123;</span><br><span class="line">            //获取token</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            String uuid = UUID.randomUUID().toString();</span><br><span class="line">            String param2 = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;token\&quot;: \&quot;&quot;+token+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;name\&quot;: \&quot;&quot;+name+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;folderCode\&quot;: \&quot;&quot;+uuid+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;remark\&quot;: \&quot;&quot;+remark+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;parentFolderId\&quot;: &quot;+parentFolderId+&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String result = HttpUtil.sendPostReq(preUrl+&quot;/api/services/Folder/CreateFolder&quot;, param2, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">            JSONObject data = jsonObject2.getJSONObject(&quot;data&quot;);</span><br><span class="line">            if (data != null) &#123;</span><br><span class="line">                String folderId = data.getString(&quot;FolderId&quot;);</span><br><span class="line">                return folderId;</span><br><span class="line">            &#125;</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 更新文件夹名称</span><br><span class="line">     * @param name</span><br><span class="line">     * @param folderId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public Boolean updateFolderName(String name,String folderId)&#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        baseBean.writeLog(&quot;更新文件夹名称:&quot;+name+&quot;:&quot;+folderId);</span><br><span class="line">        try &#123;</span><br><span class="line">            //获取token</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            String param2 = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;token\&quot;: \&quot;&quot;+token+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;docId\&quot;: &quot;+folderId+&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;newName\&quot;: \&quot;&quot;+name+&quot;\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String result = HttpUtil.sendPostReq(preUrl+&quot;/api/services/Folder/RenameFolder&quot;, param2, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">            String result1 = jsonObject2.getString(&quot;result&quot;);</span><br><span class="line">            if (StringUtils.equals(result1, &quot;0&quot;)) &#123;</span><br><span class="line">                JSONObject data = jsonObject2.getJSONObject(&quot;data&quot;);</span><br><span class="line">                if (data != null)&#123;</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return false;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取文件流</span><br><span class="line">     *</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public  String getFileContent(String fileId) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            //根据Eclipse生成的Web Service客户端程序，取得接口</span><br><span class="line">            DocService service = new DocServiceImpl();</span><br><span class="line">            //登陆</span><br><span class="line">            String adminCount = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;admin_account&quot;);</span><br><span class="line">            String adminPassword = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;admin_password&quot;);</span><br><span class="line">            String session = service.login(adminCount, adminPassword, 0, &quot;127.0.0.1&quot;);</span><br><span class="line">            DocInfo doc = service.getDoc(Integer.parseInt(fileId), session);</span><br><span class="line">            DocAttachment[] attachments = doc.getAttachments();</span><br><span class="line">            DocAttachment attachment = attachments[0];</span><br><span class="line">            return attachment.getFilecontent();</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取文件名</span><br><span class="line">     *</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public  String getFileName(String fileId) &#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        try &#123;</span><br><span class="line">            //根据Eclipse生成的Web Service客户端程序，取得接口</span><br><span class="line">            DocService service = new DocServiceImpl();</span><br><span class="line">            //登陆</span><br><span class="line">            String adminCount = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;admin_account&quot;);</span><br><span class="line">            String adminPassword = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;admin_password&quot;);</span><br><span class="line">            String session = service.login(adminCount, adminPassword, 0, &quot;127.0.0.1&quot;);</span><br><span class="line">            DocInfo doc = service.getDoc(Integer.parseInt(fileId), session);</span><br><span class="line">            DocAttachment[] attachments = doc.getAttachments();</span><br><span class="line">            DocAttachment attachment = attachments[0];</span><br><span class="line">            return attachment.getFilename();</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            baseBean.writeLog(&quot;获取文件名失败&quot;+fileId);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public DocInfo getDocByUser(int var1) throws Exception &#123;</span><br><span class="line">        DocInfo var4 = new DocInfo();</span><br><span class="line">        var4.setId(var1);</span><br><span class="line">        RecordSet var5 = new RecordSet();</span><br><span class="line">        DocComInfo var6 = new DocComInfo();</span><br><span class="line">        MainCategoryComInfo var7 = new MainCategoryComInfo();</span><br><span class="line">        SubCategoryComInfo var8 = new SubCategoryComInfo();</span><br><span class="line">        SecCategoryComInfo var9 = new SecCategoryComInfo();</span><br><span class="line">        DepartmentComInfo var10 = new DepartmentComInfo();</span><br><span class="line">        LanguageComInfo var11 = new LanguageComInfo();</span><br><span class="line">        CustomerInfoComInfo var12 = new CustomerInfoComInfo();</span><br><span class="line">        ResourceComInfo var13 = new ResourceComInfo();</span><br><span class="line">        String var14 = &quot;&quot;;</span><br><span class="line">        String var15 = var5.getDBType();</span><br><span class="line">        boolean var16 = var15.equals(&quot;oracle&quot;);</span><br><span class="line">        boolean var17 = var15.equals(&quot;mysql&quot;);</span><br><span class="line">        if (!var16 &amp;&amp; !var17) &#123;</span><br><span class="line">            var14 = &quot; select * from DocDetail t1 where &quot;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            var14 = &quot; select t1.* , t2.doccontent from DocDetail t1 , DocDetailContent t2 where t1.id = t2.docid and &quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        var14 = var14 + &quot; t1.id = &quot; + var1;</span><br><span class="line">        var5.executeSql(var14);</span><br><span class="line">        if (var5.next()) &#123;</span><br><span class="line">            var4.setDocType(Util.getIntValue(Util.null2String(var5.getString(&quot;doctype&quot;)), 1));</span><br><span class="line">            String var18 = Util.null2String(var5.getString(&quot;docsubject&quot;));</span><br><span class="line">            var18 = var18.replaceAll(&quot;\n&quot;, &quot;&quot;);</span><br><span class="line">            var4.setDocSubject(var18);</span><br><span class="line">            var4.setDocCode(Util.null2String(var5.getString(&quot;docCode&quot;)));</span><br><span class="line">            var4.setDocPublishType(Util.getIntValue(Util.null2String(var5.getString(&quot;docpublishtype&quot;)), 1));</span><br><span class="line">            var4.setDocEdition(Util.getIntValue(Util.null2String(var5.getString(&quot;docEdition&quot;)), 0));</span><br><span class="line">            var4.setDocEditionId(Util.getIntValue(Util.null2String(var5.getString(&quot;docEditionId&quot;))));</span><br><span class="line">            var4.setDocEditionStr(var6.getEditionView(var4.getId()));</span><br><span class="line">            var4.setDocStatus(Util.getIntValue(Util.null2String(var5.getString(&quot;docstatus&quot;))));</span><br><span class="line">            var4.setMaincategory(var5.getInt(&quot;maincategory&quot;));</span><br><span class="line">            var4.setMaincategoryStr(var7.getMainCategoryname(var4.getMaincategory() + &quot;&quot;));</span><br><span class="line">            var4.setSubcategory(var5.getInt(&quot;subcategory&quot;));</span><br><span class="line">            var4.setSubcategoryStr(var8.getSubCategoryname(var4.getSubcategory() + &quot;&quot;));</span><br><span class="line">            var4.setSeccategory(var5.getInt(&quot;seccategory&quot;));</span><br><span class="line">            var4.setSeccategoryStr(var9.getSecCategoryname(var4.getSeccategory() + &quot;&quot;));</span><br><span class="line">            var4.setAllParentName(var9.getAllParentName(var4.getSeccategory() + &quot;&quot;, true));</span><br><span class="line">            var4.setDocdepartmentid(var5.getInt(&quot;docdepartmentid&quot;));</span><br><span class="line">            var4.setDocdepartmentStr(var10.getDepartmentname(var4.getDocdepartmentid() + &quot;&quot;));</span><br><span class="line">            var4.setDoclangurage(var5.getInt(&quot;doclangurage&quot;));</span><br><span class="line">            var4.setDoclangurageStr(var11.getLanguagename(var4.getDoclangurage() + &quot;&quot;));</span><br><span class="line">            var4.setKeyword(Util.null2String(var5.getString(&quot;keyword&quot;)));</span><br><span class="line">            var4.setDoccreaterid(var5.getInt(&quot;doccreaterid&quot;));</span><br><span class="line">            var4.setDoccreatertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docCreaterType&quot;))));</span><br><span class="line">            var4.setDoccreatername(var4.getDoccreatertype() == 1 ? var13.getResourcename(var4.getDoccreaterid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDoccreaterid() + &quot;&quot;));</span><br><span class="line">            var4.setDoccreatedate(Util.null2String(var5.getString(&quot;doccreatedate&quot;)));</span><br><span class="line">            var4.setDoccreatetime(Util.null2String(var5.getString(&quot;doccreatetime&quot;)));</span><br><span class="line">            var4.setDoclastmoduserid(var5.getInt(&quot;doclastmoduserid&quot;));</span><br><span class="line">            var4.setDoclastmodusertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docLastModUserType&quot;))));</span><br><span class="line">            var4.setDoclastmodusername(var4.getDoclastmodusertype() == 1 ? var13.getResourcename(var4.getDoclastmoduserid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDoclastmoduserid() + &quot;&quot;));</span><br><span class="line">            var4.setDoclastmoddate(Util.null2String(var5.getString(&quot;doclastmoddate&quot;)));</span><br><span class="line">            var4.setDoclastmodtime(Util.null2String(var5.getString(&quot;doclastmodtime&quot;)));</span><br><span class="line">            var4.setDocapproveuserid(var5.getInt(&quot;docapproveuserid&quot;));</span><br><span class="line">            var4.setDocapproveusertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docApproveUserType&quot;))));</span><br><span class="line">            var4.setDocapproveusername(var4.getDocapproveusertype() == 1 ? var13.getResourcename(var4.getDocapproveuserid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDocapproveuserid() + &quot;&quot;));</span><br><span class="line">            var4.setDocapprovedate(Util.null2String(var5.getString(&quot;docapprovedate&quot;)));</span><br><span class="line">            var4.setDocapprovetime(Util.null2String(var5.getString(&quot;docapprovetime&quot;)));</span><br><span class="line">            var4.setDocinvaluserid(var5.getInt(&quot;docInvalUserId&quot;));</span><br><span class="line">            var4.setDocinvalusertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docInvalUserType&quot;))));</span><br><span class="line">            var4.setDocinvalusername(var4.getDocinvalusertype() == 1 ? var13.getResourcename(var4.getDocinvaluserid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDocinvaluserid() + &quot;&quot;));</span><br><span class="line">            var4.setDocinvaldate(Util.null2String(var5.getString(&quot;docInvalDate&quot;)));</span><br><span class="line">            var4.setDocinvaltime(Util.null2String(var5.getString(&quot;docInvalTime&quot;)));</span><br><span class="line">            var4.setDocarchiveuserid(var5.getInt(&quot;docarchiveuserid&quot;));</span><br><span class="line">            var4.setDocarchiveusertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docArchiveUserType&quot;))));</span><br><span class="line">            var4.setDocarchiveusername(var4.getDocarchiveusertype() == 1 ? var13.getResourcename(var4.getDocarchiveuserid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDocarchiveuserid() + &quot;&quot;));</span><br><span class="line">            var4.setDocarchivedate(Util.null2String(var5.getString(&quot;docarchivedate&quot;)));</span><br><span class="line">            var4.setDocarchivetime(Util.null2String(var5.getString(&quot;docarchivetime&quot;)));</span><br><span class="line">            var4.setDoccanceluserid(var5.getInt(&quot;docCancelUserId&quot;));</span><br><span class="line">            var4.setDoccancelusertype(Util.getIntValue(Util.null2String(var5.getString(&quot;docCancelUserType&quot;))));</span><br><span class="line">            var4.setDoccancelusername(var4.getDoccancelusertype() == 1 ? var13.getResourcename(var4.getDoccanceluserid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getDoccanceluserid() + &quot;&quot;));</span><br><span class="line">            var4.setDoccanceldate(Util.null2String(var5.getString(&quot;docCancelDate&quot;)));</span><br><span class="line">            var4.setDoccanceltime(Util.null2String(var5.getString(&quot;docCancelTime&quot;)));</span><br><span class="line">            var4.setMaindoc(var5.getInt(&quot;mainDoc&quot;));</span><br><span class="line">            var4.setOwnerid(var5.getInt(&quot;ownerid&quot;));</span><br><span class="line">            var4.setOwnertype(Util.getIntValue(Util.null2String(var5.getString(&quot;ownerType&quot;))));</span><br><span class="line">            var4.setOwnername(var4.getOwnertype() == 1 ? var13.getResourcename(var4.getOwnerid() + &quot;&quot;) : var12.getCustomerInfoname(var4.getOwnerid() + &quot;&quot;));</span><br><span class="line">            var4.setInvalidationdate(Util.null2String(var5.getString(&quot;invalidationdate&quot;)));</span><br><span class="line">            var4.setHrmresid(var5.getInt(&quot;hrmresid&quot;));</span><br><span class="line">            var4.setAssetid(var5.getInt(&quot;assetid&quot;));</span><br><span class="line">            var4.setCrmid(var5.getInt(&quot;hrmresid&quot;));</span><br><span class="line">            var4.setItemid(var5.getInt(&quot;itemid&quot;));</span><br><span class="line">            var4.setProjectid(var5.getInt(&quot;projectid&quot;));</span><br><span class="line">            var4.setFinanceid(var5.getInt(&quot;financeid&quot;));</span><br><span class="line">            var4.setIsreply(var5.getString(&quot;isreply&quot;));</span><br><span class="line">            var4.setReplydocid(var5.getInt(&quot;replydocid&quot;));</span><br><span class="line">            var4.setAccessorycount(var5.getInt(&quot;accessorycount&quot;));</span><br><span class="line">            var4.setReplaydoccount(var5.getInt(&quot;replaydoccount&quot;));</span><br><span class="line">            DocAttachment[] var23;</span><br><span class="line">            if (&quot;&quot;.indexOf(&quot;,getAttachment,&quot;) == -1) &#123;</span><br><span class="line">                var23 = this.getAttachment(var4);</span><br><span class="line">                var4.setAttachments(var23);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return var4;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private DocAttachment[] getAttachment(DocInfo var1) throws Exception &#123;</span><br><span class="line">        ArrayList var2 = new ArrayList();</span><br><span class="line">        ImageFileManager var3 = new ImageFileManager();</span><br><span class="line">        DocImageManager var4 = new DocImageManager();</span><br><span class="line">        var4.resetParameter();</span><br><span class="line">        var4.setDocid(var1.getId());</span><br><span class="line">        var4.selectDocImageInfo2();</span><br><span class="line"></span><br><span class="line">        while(true) &#123;</span><br><span class="line">            int var5;</span><br><span class="line">            do &#123;</span><br><span class="line">                if (!var4.next()) &#123;</span><br><span class="line">                    DocAttachment[] var18 = new DocAttachment[var2.size()];</span><br><span class="line"></span><br><span class="line">                    for(int var19 = 0; var19 &lt; var2.size(); ++var19) &#123;</span><br><span class="line">                        var18[var19] = (DocAttachment)var2.get(var19);</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    return var18;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                var5 = Util.getIntValue(var4.getImagefileid());</span><br><span class="line">            &#125; while(var5 &lt; 1);</span><br><span class="line"></span><br><span class="line">            DocAttachment var6 = new DocAttachment();</span><br><span class="line">            var6.setDocImageFileId(var4.getId());</span><br><span class="line">            var6.setDocid(var1.getId());</span><br><span class="line">            var6.setImagefileid(var5);</span><br><span class="line">            var6.setImagefilename(var4.getImagefilename());</span><br><span class="line">            var6.setImagefiledesc(var4.getImagefiledesc());</span><br><span class="line">            var6.setImagefilewidth(var4.getimagefilewidth());</span><br><span class="line">            var6.setImagefileheight(var4.getImagefileheight());</span><br><span class="line">            var6.setImagefilesize(var4.getImagefielsize());</span><br><span class="line">            var6.setDocfiletype(var4.getDocfiletype());</span><br><span class="line">            var6.setVersionId(var4.getVersionId());</span><br><span class="line">            var6.setVersionDetail(var4.getVersionDetail());</span><br><span class="line">            var6.setIsextfile(var4.getIsextfile());</span><br><span class="line">            byte[] var8 = new byte[1024];</span><br><span class="line">            InputStream var9 = null;</span><br><span class="line">            var3.getImageFileInfoById(var5);</span><br><span class="line">            var9 = var3.getInputStream();</span><br><span class="line">            if (var9 != null) &#123;</span><br><span class="line">                var6.setFilename(var3.getImageFileName());</span><br><span class="line">                var6.setFiletype(var3.getImageFileType());</span><br><span class="line">                var6.setFilerealpath(var3.getFileRealPath());</span><br><span class="line">                var6.setIszip(Util.getIntValue(var3.getIsZip()));</span><br><span class="line">                var6.setIsencrype(Util.getIntValue(var3.getIsencrypt()));</span><br><span class="line">                var6.setIsAesEncrype(var3.getIsaesencrypt());</span><br><span class="line">                var6.setAesCode(var3.getAescode());</span><br><span class="line">                String var10 = &quot;&quot;;</span><br><span class="line">                ByteArrayOutputStream var11 = null;</span><br><span class="line"></span><br><span class="line">                try &#123;</span><br><span class="line">                    var11 = new ByteArrayOutputStream();</span><br><span class="line"></span><br><span class="line">                    int var7;</span><br><span class="line">                    while((var7 = var9.read(var8)) != -1) &#123;</span><br><span class="line">                        var11.write(var8, 0, var7);</span><br><span class="line">                        var11.flush();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    var10 = org.apache.axis.encoding.Base64.encode(var11.toByteArray());</span><br><span class="line">                &#125; catch (Exception var16) &#123;</span><br><span class="line">                &#125; finally &#123;</span><br><span class="line">                    if (var9 != null) &#123;</span><br><span class="line">                        var9.close();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    if (var11 != null) &#123;</span><br><span class="line">                        var11.flush();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                    if (var11 != null) &#123;</span><br><span class="line">                        var11.close();</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                var6.setFilecontent(var10);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            var2.add(var6);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    /**</span><br><span class="line">     * 获取文件名</span><br><span class="line">     *</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public  String getFileName2(String fileId) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            DocInfo docByUser = this.getDocByUser(Integer.parseInt(fileId));</span><br><span class="line">            DocAttachment[] attachments = docByUser.getAttachments();</span><br><span class="line">            DocAttachment attachment = attachments[0];</span><br><span class="line">            return attachment.getFilename();</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            return &quot;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 给指定用户授权文件</span><br><span class="line">     * @param filedIds 文件id</span><br><span class="line">     * @param applicant 用户id</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public Boolean empower(List&lt;String&gt; filedIds,String applicant,String startTime,String expiredTime,String wjqx)&#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        try &#123;</span><br><span class="line">            String account = &quot;&quot;;</span><br><span class="line">            String sql = &quot;select loginid from hrmresource where id = &quot; + applicant + &quot;&quot;;</span><br><span class="line">            RecordSet recordSet = new RecordSet();</span><br><span class="line">            recordSet.execute(sql);</span><br><span class="line">            while (recordSet.next())&#123;</span><br><span class="line">                account = recordSet.getString(1);</span><br><span class="line">            &#125;</span><br><span class="line">            //获取token</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            //获取用户信息</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String s = HttpUtil.get(preUrl+&quot;/api/services/OrgUser/GetUserInfoByAccount?token=&quot; + token + &quot;&amp;account=&quot; + account);</span><br><span class="line">            if (StringUtils.isEmpty(s))&#123;</span><br><span class="line">                throw new RuntimeException(&quot;用户不存在!&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            JSONObject jsonObject1 = JSON.parseObject(s);</span><br><span class="line">            JSONObject data = jsonObject1.getJSONObject(&quot;data&quot;);</span><br><span class="line">            String identityId = data.getString(&quot;IdentityId&quot;);</span><br><span class="line">            //给文件授权</span><br><span class="line">            String permCateId = &quot;&quot;;</span><br><span class="line">            if (StringUtils.equals(wjqx,&quot;0&quot;))&#123;</span><br><span class="line">                permCateId = &quot;2&quot;;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                permCateId = &quot;3&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            for (String filedId : filedIds) &#123;</span><br><span class="line">                String param2 = &quot;&#123;\n&quot; +</span><br><span class="line">                        &quot;  \&quot;token\&quot;: \&quot;&quot;+token + &quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;fileId\&quot;: &quot;+ Integer.parseInt(filedId) +&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;permCateId\&quot;: &quot;+permCateId+&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;startTime\&quot;: \&quot;&quot;+startTime+&quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;expiredTime\&quot;: \&quot;&quot; + expiredTime +&quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;permType\&quot;: 2,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;identityId\&quot;: &quot; + identityId+ &quot;\n&quot; +</span><br><span class="line">                        &quot;&#125;&quot;;</span><br><span class="line">                baseBean.writeLog(&quot;[文件授权]&quot;+param2);</span><br><span class="line">                String result = HttpUtil.sendPostReq(preUrl+&quot;/api/services/FilePermission/SetUserPermission&quot;, param2, &quot;utf-8&quot;, 0);</span><br><span class="line">                JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">                String result1 = jsonObject2.getString(&quot;result&quot;);</span><br><span class="line">                if (!StringUtils.equals(result1,&quot;0&quot;))&#123;</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 给指定用户授权文件</span><br><span class="line">     * @param folederIds 文件夹id</span><br><span class="line">     * @param applicant 用户id</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public Boolean empowerFolder(List&lt;String&gt; folederIds,String applicant,String startTime,String expiredTime,String wjqx)&#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        try &#123;</span><br><span class="line">            String account = &quot;&quot;;</span><br><span class="line">            String sql = &quot;select loginid from hrmresource where id = &quot; + applicant + &quot;&quot;;</span><br><span class="line">            RecordSet recordSet = new RecordSet();</span><br><span class="line">            recordSet.execute(sql);</span><br><span class="line">            while (recordSet.next())&#123;</span><br><span class="line">                account = recordSet.getString(1);</span><br><span class="line">            &#125;</span><br><span class="line">            //获取token</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            //获取用户信息</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String s = HttpUtil.get(preUrl+&quot;/api/services/OrgUser/GetUserInfoByAccount?token=&quot; + token + &quot;&amp;account=&quot; + account);</span><br><span class="line">            if (StringUtils.isEmpty(s))&#123;</span><br><span class="line">                throw new RuntimeException(&quot;用户不存在!&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            JSONObject jsonObject1 = JSON.parseObject(s);</span><br><span class="line">            JSONObject data = jsonObject1.getJSONObject(&quot;data&quot;);</span><br><span class="line">            String identityId = data.getString(&quot;IdentityId&quot;);</span><br><span class="line">            //给文件授权</span><br><span class="line">            String permCateId = &quot;&quot;;</span><br><span class="line">            if (StringUtils.equals(wjqx,&quot;0&quot;))&#123;</span><br><span class="line">                permCateId = &quot;8&quot;;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                permCateId = &quot;9&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            for (String folderId : folederIds) &#123;</span><br><span class="line">                String param2 = &quot;&#123;\n&quot; +</span><br><span class="line">                        &quot;  \&quot;token\&quot;: \&quot;&quot;+token + &quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;folderId\&quot;: &quot;+ Integer.parseInt(folderId) +&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;permCateId\&quot;: &quot;+permCateId+&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;startTime\&quot;: \&quot;&quot;+startTime+&quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;expiredTime\&quot;: \&quot;&quot; + expiredTime +&quot;\&quot;,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;permType\&quot;: 1,\n&quot; +</span><br><span class="line">                        &quot;  \&quot;identityId\&quot;: &quot; + identityId+ &quot;\n&quot; +</span><br><span class="line">                        &quot;&#125;&quot;;</span><br><span class="line">                baseBean.writeLog(&quot;[文件授权]&quot;+param2);</span><br><span class="line">                String result = HttpUtil.sendPostReq(preUrl+&quot;/api/services/FolderPermission/SetUserPermission&quot;, param2, &quot;utf-8&quot;, 0);</span><br><span class="line">                JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">                String result1 = jsonObject2.getString(&quot;result&quot;);</span><br><span class="line">                if (!StringUtils.equals(result1,&quot;0&quot;))&#123;</span><br><span class="line">                    return false;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return true;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 同步电子档案系统的文件夹</span><br><span class="line">     */</span><br><span class="line">    public void syhcFolder(String  costName,String parent) &#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        try &#123;</span><br><span class="line">            String folder = this.createFolder(costName, costName, parent);//创建文件夹资料</span><br><span class="line">            if (StringUtils.isEmpty(folder))&#123;</span><br><span class="line">                throw new RuntimeException(&quot;创建文件夹资料失败&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">            String modeId = Prop.getPropValue(&quot;hisun&quot;, &quot;efile_form_mode_id&quot;);</span><br><span class="line">            String formName = Prop.getPropValue(&quot;hisun&quot;, &quot;efile_form_name&quot;);</span><br><span class="line">            //同步到电子档案系统</span><br><span class="line">            String sql = &quot;insert into &quot;+formName+&quot; (costname,pkcostsubj,sealflag,pkparent,lx,formmodeid) VALUES (&#x27;&quot; + costName  +&quot;&#x27;, &quot; + folder + &quot;,0,&quot; +parent +&quot;,&#x27;文件夹&#x27;,&quot;+modeId+&quot;)&quot;;</span><br><span class="line">            RecordSet rs = new RecordSet();</span><br><span class="line">            rs.execute(sql);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            baseBean.writeLog(&quot;同步电子档案系统文件夹失败&quot;);</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 修改文件名称</span><br><span class="line">     * @param costname</span><br><span class="line">     * @param fileId</span><br><span class="line">     */</span><br><span class="line">    public Boolean updateFileName(String costname, String fileId) &#123;</span><br><span class="line">        BaseBean baseBean = new BaseBean();</span><br><span class="line">        baseBean.writeLog(&quot;更新文件名称:&quot;+costname+&quot;:&quot;+fileId);</span><br><span class="line">        try &#123;</span><br><span class="line">            //获取tokenx</span><br><span class="line">            String param = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">            String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">            String param2 = &quot;&#123;\n&quot; +</span><br><span class="line">                    &quot;  \&quot;token\&quot;: \&quot;&quot;+token+&quot;\&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;docId\&quot;: &quot;+fileId+&quot;,\n&quot; +</span><br><span class="line">                    &quot;  \&quot;newName\&quot;: \&quot;&quot;+costname+&quot;\&quot;\n&quot; +</span><br><span class="line">                    &quot;&#125;&quot;;</span><br><span class="line">            String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">            String result = HttpUtil.sendPostReq(preUrl+&quot;/api/services/File/RenameFile&quot;, param2, &quot;utf-8&quot;, 0);</span><br><span class="line">            JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">            String result1 = jsonObject2.getString(&quot;result&quot;);</span><br><span class="line">            if (StringUtils.equals(result1, &quot;0&quot;)) &#123;</span><br><span class="line">                JSONObject data = jsonObject2.getJSONObject(&quot;data&quot;);</span><br><span class="line">                if (data != null)&#123;</span><br><span class="line">                    return true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            return false;</span><br><span class="line">        &#125; catch (Throwable e) &#123;</span><br><span class="line">            throw new RuntimeException(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取文件的MD5值</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public String getMD5(String fileId) &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            String fileContent = this.getFileContent(fileId);</span><br><span class="line">            byte[] content = Base64.decode(fileContent);</span><br><span class="line">            InputStream fis = new ByteArrayInputStream(content);</span><br><span class="line">            MessageDigest md = MessageDigest.getInstance(&quot;MD5&quot;);</span><br><span class="line">            byte[] dataBytes = new byte[1024];</span><br><span class="line">            int bytesRead;</span><br><span class="line"></span><br><span class="line">            while ((bytesRead = fis.read(dataBytes)) != -1) &#123;</span><br><span class="line">                md.update(dataBytes, 0, bytesRead);</span><br><span class="line">            &#125;</span><br><span class="line">            byte[] mdBytes = md.digest();</span><br><span class="line">            StringBuilder sb = new StringBuilder();</span><br><span class="line">            for (byte mdByte : mdBytes) &#123;</span><br><span class="line">                sb.append(Integer.toString((mdByte &amp; 0xff) + 0x100, 16).substring(1));</span><br><span class="line">            &#125;</span><br><span class="line">            fis.close();</span><br><span class="line">            return sb.toString();</span><br><span class="line">        &#125; catch (NoSuchAlgorithmException | IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        return null;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 根据文档云的文件id获取MD5值</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    public String getMD5ByFileId(String fileId) throws IOException, NoSuchAlgorithmException, InterruptedException &#123;</span><br><span class="line">        String fileUrl = this.getDownLoadFileUrl(fileId);</span><br><span class="line">        // 下载文件</span><br><span class="line">        URL url = new URL(fileUrl);</span><br><span class="line">        // 打开压缩文件流</span><br><span class="line">        InputStream zipInputStream = new BufferedInputStream(url.openStream());</span><br><span class="line">        ZipInputStream zis = new ZipInputStream(zipInputStream);</span><br><span class="line">        byte[] buffer = new byte[4096];</span><br><span class="line">        ZipEntry zipEntry;</span><br><span class="line">        MessageDigest md5Digest = MessageDigest.getInstance(&quot;MD5&quot;);</span><br><span class="line">        // 遍历压缩文件中的每个文件</span><br><span class="line">        while ((zipEntry = zis.getNextEntry()) != null) &#123;</span><br><span class="line">            String fileName = zipEntry.getName();</span><br><span class="line"></span><br><span class="line">            // 判断是否为目标文件</span><br><span class="line">            if (fileName.equals(&quot;folderName/fileName&quot;)) &#123;</span><br><span class="line">                // 读取文件内容以更新MD5摘要信息</span><br><span class="line">                int readBytes;</span><br><span class="line">                while ((readBytes = zis.read(buffer)) != -1) &#123;</span><br><span class="line">                    md5Digest.update(buffer, 0, readBytes);</span><br><span class="line">                &#125;</span><br><span class="line">                break; // 找到目标文件后终止循环</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            // 关闭当前文件流，并进入下一个文件</span><br><span class="line">            zis.closeEntry();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        zis.close();</span><br><span class="line">        zipInputStream.close();</span><br><span class="line"></span><br><span class="line">        byte[] md5Bytes = md5Digest.digest();</span><br><span class="line">        StringBuilder sb = new StringBuilder();</span><br><span class="line">        for (byte b : md5Bytes) &#123;</span><br><span class="line">            sb.append(String.format(&quot;%02x&quot;, b &amp; 0xff));</span><br><span class="line">        &#125;</span><br><span class="line">        return   sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取下载文档云文件的URL地址</span><br><span class="line">     * @param fileId</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    private String getDownLoadFileUrl(String fileId) throws IOException, InterruptedException &#123;</span><br><span class="line">        String resultValue = &quot;&quot;;</span><br><span class="line">        int count = 0;</span><br><span class="line">        //重试20次 压缩文件有时候会需要时间下载</span><br><span class="line">        while (count &lt; 20 || StringUtils.isEmpty(resultValue))&#123;</span><br><span class="line">            try &#123;</span><br><span class="line">                //获取tokenx</span><br><span class="line">        String param = &quot;&#123;\n&quot; +</span><br><span class="line">                &quot;  \&quot;loginName\&quot;: \&quot;admin\&quot;,\n&quot; +</span><br><span class="line">                &quot;  \&quot;ipAddress\&quot;: \&quot;172.16.1.6\&quot;,\n&quot; +</span><br><span class="line">                &quot;  \&quot;integrationKey\&quot;: \&quot;46aa92ec-66af-4818-b7c1-8495a9bd7f17\&quot;\n&quot; +</span><br><span class="line">                &quot;&#125;&quot;;</span><br><span class="line">        String tokenRes = HttpUtil.sendPostReq(url, param, &quot;utf-8&quot;, 0);</span><br><span class="line">        JSONObject jsonObject = JSON.parseObject(tokenRes);</span><br><span class="line">        String token = jsonObject.getString(&quot;data&quot;);</span><br><span class="line">        String preUrl = Prop.getPropValue(&quot;formprocessnode&quot;, &quot;efile_pre_url&quot;);</span><br><span class="line">                String result = HttpUtil.get(preUrl+&quot;/DownLoad/DownLoadCheck?token=&quot;+token+&quot;&amp;fileIds=&quot;+fileId+&quot;&amp;folderIds=7809135&quot;);</span><br><span class="line">                JSONObject jsonObject2 = JSON.parseObject(result);</span><br><span class="line">                String regionHash = jsonObject2.getString(&quot;RegionHash&quot;);</span><br><span class="line">                //获取taskid</span><br><span class="line">                String formData = &quot;async=true&quot;;</span><br><span class="line"></span><br><span class="line">                String result2 = HttpUtil.post(preUrl+&quot;/downLoad/index?regionHash=&quot;+regionHash+&quot;&amp;async=false&amp;fileIds=&quot;+fileId+&quot;&amp;token=&quot;+token +&quot;&amp;folderIds=7809135&quot;,formData);</span><br><span class="line">                JSONObject jsonObject3 = JSON.parseObject(result2);</span><br><span class="line"></span><br><span class="line">                String pTaskId = jsonObject3.getString(&quot;pTaskId&quot;);</span><br><span class="line"></span><br><span class="line">                //获取压缩进度</span><br><span class="line">                int tryCount =0 ;</span><br><span class="line">                String zipName = &quot;&quot;;</span><br><span class="line">                while (tryCount &lt; 20 || StringUtils.isEmpty(zipName) )&#123;</span><br><span class="line">                    Thread.sleep(5000);</span><br><span class="line">                    String result3 = HttpUtil.get(preUrl+&quot;/WebCore?module=WebClient&amp;fun=GetZipProgress&amp;pTaskId=&quot;+pTaskId +&quot;&amp;token=&quot;+token);</span><br><span class="line">                    JSONObject jsonObject4 = JSON.parseObject(result3);</span><br><span class="line">                    zipName = jsonObject4.getString(&quot;zipName&quot;);</span><br><span class="line">                    if (StringUtils.isNotEmpty(zipName))&#123;</span><br><span class="line">                        break;</span><br><span class="line">                    &#125;</span><br><span class="line">                    tryCount++;</span><br><span class="line">                &#125;</span><br><span class="line">                if (StringUtils.isEmpty(zipName))&#123;</span><br><span class="line">                    continue;</span><br><span class="line">                &#125;</span><br><span class="line">                //获取MD5值</span><br><span class="line">                String fileUrl = &quot;https://ecm.hisunpharm.com:6688/downLoad/GetFile?fileName=&quot;+zipName;</span><br><span class="line">                //获取到文件路径</span><br><span class="line">                resultValue = fileUrl;</span><br><span class="line">                count++;</span><br><span class="line">                if (StringUtils.isNotEmpty(zipName))&#123;</span><br><span class="line">                    break;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; catch (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return resultValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> OA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CR2023000780 MD5校验问题</title>
      <link href="/2023/12/26/oa%E5%8F%91%E5%B8%83/2023/MD5%E6%A0%A1%E9%AA%8C%E9%97%AE%E9%A2%98/"/>
      <url>/2023/12/26/oa%E5%8F%91%E5%B8%83/2023/MD5%E6%A0%A1%E9%AA%8C%E9%97%AE%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<h1 id="CR2023000780-MD5校验问题"><a href="#CR2023000780-MD5校验问题" class="headerlink" title="CR2023000780 MD5校验问题"></a>CR2023000780 MD5校验问题</h1><h2 id="后端代码"><a href="#后端代码" class="headerlink" title="后端代码"></a>后端代码</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/usr/weaver/ecology/classbean/hisun/util -&gt;</span><br><span class="line">hisun.util.EfileUtil</span><br><span class="line">hisun.util.HttpUtil</span><br><span class="line"></span><br><span class="line">/usr/weaver/ecology/classbean/hisun/action -&gt;</span><br><span class="line">hisun.action.UpLoadEfileAction</span><br><span class="line"></span><br><span class="line">/usr/weaver/ecology/classbean/hisun/cron</span><br><span class="line">hisun.cron.EfileMD5CheckCron</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>配置动态参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">efile_md5_check_email=ira@hisunpharm.com,lfyang@hisunpharm.com</span><br></pre></td></tr></table></figure><h2 id="表单建模"><a href="#表单建模" class="headerlink" title="表单建模"></a>表单建模</h2><p>1.新增MD5操作</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231221150105739.png" alt="image-20231221150105739" style="zoom:50%;" /><h1 id="工具类"><a href="#工具类" class="headerlink" title="工具类"></a>工具类</h1><p>获取MD5值的工具类在</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hisun.util.EfileUtil#getMD5ByFileId</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 发布 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA发布 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>组织架构</title>
      <link href="/2023/12/26/oa/%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84/"/>
      <url>/2023/12/26/oa/%E7%BB%84%E7%BB%87%E6%9E%B6%E6%9E%84/</url>
      
        <content type="html"><![CDATA[<h1 id="组织架构"><a href="#组织架构" class="headerlink" title="组织架构"></a>组织架构</h1><h2 id="一级部门负责人"><a href="#一级部门负责人" class="headerlink" title="一级部门负责人"></a>一级部门负责人</h2><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>人资</td><td>国健</td></tr><tr><td>财管</td><td>蒋灵</td></tr><tr><td>生成运营与信息</td><td>金红顺</td></tr><tr><td>质管、制剂</td><td>路兴海</td></tr><tr><td>原料药</td><td>杨志清</td></tr><tr><td>党群</td><td>陈家胜</td></tr><tr><td>工会</td><td>戴激扬</td></tr><tr><td>审计</td><td>彭均</td></tr><tr><td>公共事务</td><td>杜加秋</td></tr><tr><td>战投</td><td>邓久发</td></tr><tr><td>CEO</td><td>肖卫红</td></tr><tr><td>董事</td><td>沈星虎</td></tr><tr><td>信息技术中心</td><td>张勇平</td></tr></tbody></table><h2 id="二级部门负责人"><a href="#二级部门负责人" class="headerlink" title="二级部门负责人"></a>二级部门负责人</h2><h3 id="生产运营信息技术中心"><a href="#生产运营信息技术中心" class="headerlink" title="生产运营信息技术中心"></a>生产运营信息技术中心</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>供应链</td><td>徐辉</td></tr><tr><td>EHS管理</td><td>卢炯</td></tr><tr><td>综管</td><td>林益</td></tr><tr><td>安装</td><td>陶招顺</td></tr><tr><td>工程装备</td><td>邵文俊</td></tr></tbody></table><h3 id="财务管理中心"><a href="#财务管理中心" class="headerlink" title="财务管理中心"></a>财务管理中心</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>工程装备监管与工程预算管理</td><td>冷如冰</td></tr><tr><td>本部&#x2F;富阳预算管理</td><td>董潍</td></tr><tr><td>本部会计结算</td><td>余兵</td></tr><tr><td>本部资金管理</td><td>黄硕</td></tr><tr><td>会计结算富阳</td><td>李新龙</td></tr><tr><td>资金结算富阳</td><td>汪小波</td></tr><tr><td>财务管理南通</td><td>赵冬生</td></tr></tbody></table><h3 id="人力资源中心"><a href="#人力资源中心" class="headerlink" title="人力资源中心"></a>人力资源中心</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>台州业务伙伴</td><td>王建平</td></tr><tr><td>海南南通</td><td>顾昊</td></tr><tr><td>杭州人力资源</td><td>邵桂芳</td></tr><tr><td>组织发展</td><td>姜思思</td></tr><tr><td>绩效管理</td><td>姜思思</td></tr><tr><td>人力运营</td><td>张晓静</td></tr><tr><td>薪酬福利</td><td>陈娇</td></tr><tr><td>人才发展</td><td>国健</td></tr><tr><td>富阳南通业务伙伴</td><td>吴恩国</td></tr></tbody></table><h3 id="质量管理"><a href="#质量管理" class="headerlink" title="质量管理"></a>质量管理</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>质量体系管理</td><td>夏德生</td></tr><tr><td>药物警戒</td><td>陈方青</td></tr><tr><td>分析技术</td><td>杨荷友</td></tr><tr><td>质量战略</td><td>胡丹</td></tr><tr><td>GMP事务</td><td>颜润江</td></tr><tr><td>台州质量</td><td>周臻弘</td></tr><tr><td>富阳质量</td><td>朱红伟</td></tr><tr><td>南通质量</td><td>黄晶</td></tr></tbody></table><h3 id="制剂业务板块"><a href="#制剂业务板块" class="headerlink" title="制剂业务板块"></a>制剂业务板块</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>中央商务部</td><td>殷海燕</td></tr><tr><td>制剂国际销售部</td><td>赵洪</td></tr><tr><td>制剂研究院</td><td>高华</td></tr><tr><td>制剂台州工厂</td><td>凌荣华</td></tr><tr><td>制剂富阳工厂</td><td>林巨建</td></tr><tr><td>省公司</td><td>斯元龙</td></tr><tr><td>综管</td><td>洪芳娇</td></tr></tbody></table><h3 id="原料药业务板块"><a href="#原料药业务板块" class="headerlink" title="原料药业务板块"></a>原料药业务板块</h3><table><thead><tr><th>部门</th><th>姓名</th></tr></thead><tbody><tr><td>技术与项目管理部</td><td>吴忠伟</td></tr><tr><td>生成与计划部</td><td>陈光辉</td></tr><tr><td>营销中心</td><td>顾钦</td></tr><tr><td>研究院</td><td>孙鹏</td></tr><tr><td>台州工厂</td><td>张超</td></tr><tr><td>富阳工厂</td><td>潘剑</td></tr><tr><td>南通工厂</td><td>徐伟伟</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> OA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SRM系统资源</title>
      <link href="/2023/12/26/srm/SRM%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90/"/>
      <url>/2023/12/26/srm/SRM%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90/</url>
      
        <content type="html"><![CDATA[<p>SRM系统资源</p><h2 id="测试环境账密"><a href="#测试环境账密" class="headerlink" title="测试环境账密"></a>测试环境账密</h2><p>九翊<br> PC端地址：<a href="https://tsrm.jiuyisoft.com/">https://tsrm.jiuyisoft.com</a><br> 策略采购员: 万丽 账号：wanl 密码：710386<br> 浙江天蓝科技有限公司: 阿香桃, 账号：V0053344 密码：585154</p><p> 甄云<br> <a href="https://isrm-demo.hand-china.com/">https://isrm-demo.hand-china.com/</a><br> 账号：18894045109 密码：DEMO123456<br> 供应商 18894564765&#x2F;18898767890 密码：DEMO123456</p><p> 京桥通<br> <a href="http://caigougys.weaver.com.cn/">http://caigougys.weaver.com.cn/</a><br> 账号：zhangsan 密码：1</p>]]></content>
      
      
      <categories>
          
          <category> SRM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> 供应链 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OA发布注意事项</title>
      <link href="/2023/12/26/oa/OA%E5%8F%91%E5%B8%83%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/"/>
      <url>/2023/12/26/oa/OA%E5%8F%91%E5%B8%83%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/</url>
      
        <content type="html"><![CDATA[<p>OA发布注意事项</p><ul><li><p><strong>退回全部改成 自由退回 并且同步</strong></p></li><li><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/1687145805758-0a36b969-ec79-4e84-833c-61641bd9dcf2.png" alt="img"></p></li><li><p><strong>转发都开起来</strong></p></li><li><p><strong>转办 改成加签</strong></p></li><li><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/1687146229437-fb223663-a984-4211-b984-a2e433bc4b9c.png" alt="img"></p></li><li><p><strong>签字意见 退回 意见征询</strong> </p></li><li><p><strong>流程编号 要更新最新的编号 出口信息一定要维护</strong></p></li><li><p><strong>附件目录要备注一下，附件上传大小要注意调整（发布说明）</strong></p></li><li><p><strong>ecode要进行说明（发布说明）</strong></p></li><li><p><strong>基础数据维护发布要备注（发布说明）</strong></p></li><li><p><strong>需要配置ecode  和 附件路径（发布说明）</strong></p></li><li><p><strong>校验流程判断模块数据是否必填</strong></p></li><li><p><strong>流程编号打开，并且要加上年份和业务代号</strong></p></li><li><p><strong>发起人选择海正药业分部</strong></p></li><li><p><strong>创建节点才可以删除附件</strong></p></li><li><p>**移动端配置 **</p></li><li><p><strong>ASL事件和授权配置要放到发布说明里面（发布说明）</strong></p></li><li><p><strong>条件节点要注意是否所有条件都能走到，是否存在条件尚未被覆盖到的情况</strong></p></li><li><p><strong>存在删除节点的情况必须升版</strong></p></li><li><p><strong>升版以后必须重新配置ASL时间和授权配置</strong></p></li></ul>]]></content>
      
      
      <categories>
          
          <category> OA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OA资源</title>
      <link href="/2023/12/26/oa/%E8%B4%A6%E5%AF%86/"/>
      <url>/2023/12/26/oa/%E8%B4%A6%E5%AF%86/</url>
      
        <content type="html"><![CDATA[<p>OA资源</p><h2 id="账密"><a href="#账密" class="headerlink" title="账密"></a>账密</h2><p>OA开发环境：<a href="http://172.16.5.124:8898/">http://172.16.5.124:8898</a><br>验证环境：<a href="http://172.16.5.132:8898/">http://172.16.5.132:8898/</a></p><p>系统管理员账号sysadmin    密码X4PtYv   人员密码: HGA1DljidB  </p><p>域账号密码 chenbaitao Ccc19950818</p><p>泛微云平台账号密码: 15867088217  lwb19900603!  </p><p>数据库账号密码: ecology    X4PtYv  </p><p> devuser   X4PtYv  </p><h2 id="常用表"><a href="#常用表" class="headerlink" title="常用表"></a>常用表</h2><p>select * from ecology.hrmdepartment<br>select * from ecology.hrmdepartmentdefined<br>select * from ecology.hrmresource<br>select * from ecology.cus_fielddata<br>select * from ecology.workflow_requestbase<br>select * from ecology.workflow_currentoperator<br>select * from ecology.workflow_requestlog</p><p>select * from ecology.workflow_billfield<br>select * from ecology.workflow_form  </p><p>kq_balanceofleave</p><p>smtp.exmail.qq.com</p><p><a href="mailto:&#x6f;&#97;&#99;&#x65;&#x73;&#x68;&#105;&#64;&#x68;&#x69;&#115;&#x75;&#x6e;&#112;&#104;&#x61;&#x72;&#109;&#x2e;&#x63;&#111;&#x6d;">&#x6f;&#97;&#99;&#x65;&#x73;&#x68;&#105;&#64;&#x68;&#x69;&#115;&#x75;&#x6e;&#112;&#104;&#x61;&#x72;&#109;&#x2e;&#x63;&#111;&#x6d;</a> </p>]]></content>
      
      
      <categories>
          
          <category> OA </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SRM系统用户需求说明书</title>
      <link href="/2023/12/25/srm/%E9%87%87%E8%B4%AD%E9%9C%80%E6%B1%82%E8%AF%B4%E6%98%8E%E4%B9%A6d466464784fbd749d978a78d/"/>
      <url>/2023/12/25/srm/%E9%87%87%E8%B4%AD%E9%9C%80%E6%B1%82%E8%AF%B4%E6%98%8E%E4%B9%A6d466464784fbd749d978a78d/</url>
      
        <content type="html"><![CDATA[<p>SCMS<strong>系统用户需求说明书</strong></p><p>User Requirement Specification of SCMSSystem</p><table><thead><tr><th></th><th>部门：  Department</th><th>姓名  Name</th><th>签字&#x2F;日期：  Signature&#x2F;Date</th><th></th><th></th></tr></thead><tbody><tr><td>起草人：  Prepared by</td><td>信息技术中心</td><td></td><td></td><td></td><td></td></tr><tr><td>起草人：  Prepared by</td><td>供应链管理部</td><td></td><td></td><td></td><td></td></tr><tr><td>审核人：  Reviewed by</td><td>信息技术中心</td><td></td><td></td><td></td><td></td></tr><tr><td>审核人：  Reviewed by</td><td>供应链管理部</td><td></td><td></td><td></td><td></td></tr><tr><td>审核人：  Reviewed by</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>审核人：  Reviewed by</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>批准人：  Approved by</td><td>生产运营管理与  信息技术中心</td><td></td><td></td><td></td><td></td></tr></tbody></table><p>**<br>**</p><p><strong>目录</strong></p><p><a href="#_Toc143087815">1  目的. 2</a></p><p><a href="#_Toc143087816">2  范围. 2</a></p><p><a href="#_Toc143087817">3  项目介绍. 3</a></p><p><a href="#_Toc143087818">3.1  项目背景. 3</a></p><p><a href="#_Toc143087819">3.2  项目概述. 3</a></p><p><a href="#_Toc143087820">4  定义和缩写. 3</a></p><p><a href="#_Toc143087821">5  角色和职责. 4</a></p><p><a href="#_Toc143087822">6  法规和指南. 4</a></p><p><a href="#_Toc143087823">7  需求文档格式说明. 4</a></p><p><a href="#_Toc143087824">8  具体需求描述. 5</a></p><p><a href="#_Toc143087825">8.1  需求概述. 5</a></p><p><a href="#_Toc143087826">8.2  供应商管理. 6</a></p><p><a href="#_Toc143087827">8.3  寻源管理. 8</a></p><p><a href="#_Toc143087828">8.4  合同管理. 10</a></p><p><a href="#_Toc143087829">8.5  协同管理. 12</a></p><p><a href="#_Toc143087830">8.6  安全及其他. 14</a></p><p><a href="#_Toc143087831">8.7  项目硬件及软件要求. 15</a></p><p><a href="#_Toc143087832">9  版本变更历史. 16</a></p><h1 id="1-目的"><a href="#1-目的" class="headerlink" title="1    目的"></a>1    目的</h1><p>计划引入SCMS系统，对供应链采购全过程进行数字化管理，实现采购全过程操作可控、寻源规范、招标公正、管理严谨等，并实现供应商生命周期管理。本文是对SCMS系统用户需求的说明。</p><h1 id="2-范围"><a href="#2-范围" class="headerlink" title="2    范围"></a>2    范围</h1><p>SCMS系统适用于浙江海正药业股份有限公司及其子公司（以下简称海正）的采购过程管理及供应商全生命周期管理。本次项目将建成SCMS系统平台，助力海正供应采购电子化，招标寻源采购信息化，运营&#x2F;经营采购数字化转型。</p><h1 id="3-项目介绍"><a href="#3-项目介绍" class="headerlink" title="3    项目介绍"></a>3    项目介绍</h1><h1 id="3-1-项目背景"><a href="#3-1-项目背景" class="headerlink" title="3.1  项目背景"></a>3.1  项目背景</h1><p>根据海正药业未来发展的需要，通过智能制造相关系统的建设，依托建设过程及建成的信息化平台，推动企业在两化融合方面的建设，有效管理企业的业务流程。在此基础上，有效应用IT技术，实时获取<strong>供应商、订单、到货</strong>等一站式信息，实现管理的闭环；充分利用采购系统，提取数据促进采购业务提升，通过数据沉淀提升降本能力，优化降本工具，采购全程做到可视化，问题可追溯，借助业务线上化，流程电子化，帮助企业减少低价值工作，提升效率，全面提高<strong>企业采购和运营管理水平</strong>。</p><h1 id="3-2-项目概述"><a href="#3-2-项目概述" class="headerlink" title="3.2  项目概述"></a>3.2  项目概述</h1><p>引进并实施SCMS系统，实现以下目标：</p><p>l 对各品类供应商从<strong>注册到淘汰全生命周期</strong>进行管控</p><p>l 对采购<strong>全过程的需求跟踪</strong></p><p>l <strong>需求管理与外围系统</strong>的有效对接</p><p>l 多种寻源方式选择，<strong>进度可视化</strong></p><p>l <strong>价格库建立</strong>，提升采购员谈判能力</p><p>l 有效实现<strong>订单协同，需求分配，交货协同，财务协同</strong></p><p>l 新增<strong>商城采购</strong>，目录化采购方式</p><h1 id="4-定义和缩写"><a href="#4-定义和缩写" class="headerlink" title="4    定义和缩写"></a>4    定义和缩写</h1><table><thead><tr><th><strong>术语与缩写</strong></th><th><strong>定义或描述</strong></th></tr></thead><tbody><tr><td>GAMP</td><td>良好自动化生产实践指南 Good Automated Manufacturing Practices</td></tr><tr><td>CSV</td><td>系统验证 Computerized System Validation</td></tr><tr><td>GxP</td><td>(生产，临床，实验室)的良好实践  Good x (Manufacturing,  Clinical, Laboratory…) Practice</td></tr><tr><td>ISPE</td><td>国际制药工程协会 International Society For Pharmaceutical Engineering</td></tr><tr><td>ER&#x2F;ES</td><td>电子记录&#x2F;电子签名 Electronic Record &#x2F; Electronic Signature</td></tr><tr><td>SCMS</td><td>供应链管理系统 Supply Chain Management System</td></tr><tr><td>QPP</td><td>质量项目计划 Quality &amp; Project Plan</td></tr><tr><td>URS</td><td>用户需求 User Requirement Specification</td></tr><tr><td>VP</td><td>验证计划 Validation Plan</td></tr></tbody></table><h1 id="5-角色和职责"><a href="#5-角色和职责" class="headerlink" title="5    角色和职责"></a>5    角色和职责</h1><p>本用户需求由海正项目组、相关部门人员共同签署。</p><p>MES系统项目中所涉及的具体的角色和职责如下：</p><table><thead><tr><th><strong>角色</strong></th><th><strong>人员</strong></th><th><strong>责任</strong></th></tr></thead><tbody><tr><td>海正药业  信息技术中心</td><td></td><td>用户需求的编写、审核和批准；</td></tr><tr><td>供应链管理部</td><td></td><td>用户需求的审核；</td></tr></tbody></table><h1 id="6-法规和指南"><a href="#6-法规和指南" class="headerlink" title="6    法规和指南"></a>6    法规和指南</h1><ol><li><p>《药品生产质量管理规范》（2010年修订）2015年第54号公告，附件1：计算机化系统</p></li><li><p>GAMP 5(Good Automated Manufacturing Practice 5)良好自动化制造规范第五版：基于风险的计算机化系统验证</p></li><li><p>USA 21 CFR第11部分：电子记录，电子签名</p></li></ol><h1 id="7-需求文档格式说明"><a href="#7-需求文档格式说明" class="headerlink" title="7    需求文档格式说明"></a>7    需求文档格式说明</h1><ol><li>需求编号说明</li></ol><p>URS（用户需求）- X&#x2F;X.XX&#x2F;X.XX.XX（流水号）</p><p>需求编号可以分为多段，以顿号间隔。</p><p>编号从URS-1.1&#x2F;URS-1.1.1等开始。</p><ol start="2"><li>用户需求表格说明</li></ol><p>用户需求表格包括下列内容：<br> 第1列：URS-ID，代表唯一的需求编号；</p><p>第2列：需求，清楚描述具体需求的内容，不需要描述如何去实现，除非实现方法也是需求； </p><p>第3列：ER，定义是否与电子记录（Electronic Record）相关，Y&#x2F;N；</p><p>第4列：ES，定义是否与电子签名（Electronic Signature）相关，Y&#x2F;N。</p><ol start="3"><li>用户需求层级说明</li></ol><p>用户需求可分多级来写，如按照模块来编写，每个模块下可分多个功能组，每个功能组下有具体的需求。分几级按照具体需求来定。<br> 对于非具体需求的每一级（如模块级和功能组级），应有个概述，简要描述这一级的主要需求，可使用流程图，以便更清楚描述整个需求，让读者更容易理解。这个概述不作为具体的需求。流程图中可标识哪些部分在系统中实现，哪些是系统外的流程。</p><h1 id="8-具体需求描述"><a href="#8-具体需求描述" class="headerlink" title="8    具体需求描述"></a>8    具体需求描述</h1><h1 id="8-1-需求概述"><a href="#8-1-需求概述" class="headerlink" title="8.1  需求概述"></a>8.1  需求概述</h1><p>在SCMS系统中管理供应商、询比价、招标、合同、采购与质量协同</p><h1 id="8-2-供应商管理"><a href="#8-2-供应商管理" class="headerlink" title="8.2  供应商管理"></a>8.2  供应商管理</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>京桥通</th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td>URS-1.1</td><td><font color="blue"><strong>供应商注册</strong></font></td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-1.1.1</td><td><strong>供应商注册邀请</strong>  采购员可给指定供应商名称和指定邮箱发送邀请码，供应商在拿到<strong>邀请码</strong>后进行注册，注册时的供应商名称必须跟邀请的供应商名称一直，否则注册不成功；</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.1.2</td><td><strong>供应商自助注册</strong>  供应商可通过公司官网网页注册成为潜在供应商；  可设置供应商<strong>类别选项</strong>生产类、综合类、设备类、其他类，根据供应商类别<strong>设置不同的注册必输信息字段及所需上传的文件</strong>；</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.1.3</td><td>供应商<strong>注册审核  对接天眼查、企查查等外部征信系统，通过接口协助供应商注册审核</strong>；</td><td>○</td><td></td><td></td></tr><tr><td>URS-1.2</td><td><font color="blue"><strong>供应商准入</strong></font></td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-1.2.1</td><td><strong>供应商类型设置</strong>  针对不同的供应商类型设置<strong>不同的准入流程</strong></td><td>√</td><td></td><td></td></tr><tr><td>URS-1.2.2</td><td><strong>样品评审</strong>  采购方可<strong>创建、发布送样申请</strong>；供应商可对送样申请进行反馈；样品评审流程完毕后，采购方可以对此次送样进行评价；</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.2.3</td><td><strong>样品试用</strong>  采购方可向供应商索要或购买样品；样品评审流程完毕后，采购方可以对此次送样进行<strong>评价</strong>；</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.2.4</td><td><strong>调查问卷</strong>  针对不同的供应商类型供应商，定义调查表模板，创建并发布调查表；供应商填写收到的调查表信息；采购方审批供应商反馈的调查表；</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.2.5</td><td>信息关联  根据供应商名称、<strong>统一社会信用代码</strong>进行唯一性校验，未在ERP内的则将<strong>SCMS供应商信息导入ERP和OA；</strong></td><td>○</td><td></td><td></td></tr><tr><td>URS-1.2.6</td><td><strong>证照管理</strong>  根据供应商类型，<strong>供应商需上传不同的证照，并关联有效期，当临近有效期时发出提醒</strong>；</td><td>○</td><td></td><td></td></tr><tr><td>URS-1.3</td><td><font color="blue"><strong>供应商生命周期管理</strong></font></td><td></td><td>Y</td><td>N</td></tr><tr><td>URS-1.3.1</td><td><strong>绩效考核</strong>  采购方可创建供应商评审, 支持<strong>多部门协同打分自动汇总</strong>；（<strong>是否需要自动打分功能</strong>？）</td><td>√</td><td></td><td></td></tr><tr><td>URS-1.3.2</td><td><strong>级别限制</strong>  根据供应商评审或质量整改报告，可对供应商进行升降级</td><td>×</td><td></td><td></td></tr><tr><td>URS-1.3.3</td><td><strong>供应商分类</strong>  采购方可对供应商分类进行变更：1、支持同步外部系统的分类规则；2、支持多级分类指标定义；3、支持分类指标关键参数设置（是否评级项、是否评分项、审批方式）；4、支持多维度分类创建、变更与审批；</td><td>○</td><td></td><td></td></tr><tr><td>URS-1.3.4</td><td><strong>冻结解冻</strong>  采购方可对供应商分类进行冻结&#x2F;解冻操作；发起冻结时系统支持冻结原因选择，支持附件上传；支持冻结后供应商解冻；</td><td>×</td><td></td><td></td></tr><tr><td>URS-1.3.5</td><td><strong>黑名单管理</strong>  支持黑名单管理，一旦进入黑名单，后续不允许再使用（是否需要供应商联系人黑名单功能？）</td><td>×</td><td></td><td></td></tr></tbody></table><h1 id="8-3-寻源管理"><a href="#8-3-寻源管理" class="headerlink" title="8.3  寻源管理"></a>8.3  寻源管理</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>京桥通</th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td>URS-2.1</td><td><font color="blue"><strong>询比价管理</strong></font></td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-2.1.1</td><td><strong>立项管理</strong>  可关联OA，采购员<font color=red><strong>可从OA导入采购申请</strong></font>（是采购需求吧？）进行创建项目（是否可以直接在SRM系统创建采购需求，比如一下框架合同的询比价），并选择<strong>询比价、单一来源等多种模式</strong>；（竞价？单一来源包含定向供应商和定向品牌，定向供应商是否还需要对接到SRM系统寻源？）</td><td>×</td><td></td><td></td></tr><tr><td>URS-2.1.2</td><td><strong>询报价设置</strong>  采购方可设置项目说明（供应商可见）、项目备注（供应商不可见）、采购文件（供应商可见）、项目是否公开可见、成交结果是否公开、成交金额是否公开、截止日期；  <font color=red>项目公开可见则所有潜在供应商及已准入都可见可选择参与报价，不公开则只有邀请的供应商可见次项目</font>；</td><td>×</td><td></td><td></td></tr><tr><td>URS-2.1.3</td><td><strong>采购品设置</strong>  <font color=red><strong>关联OA采购申请后，自动导入物料描述、数量、预计交货日期等相关信息</strong></font>；  也可不关联OA创建新的采购品，自己填入物料描述（必填）、数量（必填）、计量单位（必填）、预计交货日期（选填）、规格信号（选填）、技术参数（选填）、用途说明（选填）等；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.1.4</td><td><strong>报价项设置</strong>  采购方可选择不同的报价方案；默认报价方案包括<strong>报价单价</strong>（必填）、<strong>付款方式</strong>（必填）、生产商（必填）、报价有效期、备注；也可自己增加其他报价方案；</td><td>×</td><td></td><td></td></tr><tr><td>URS-2.1.5</td><td><strong>邀请供应商</strong>  采购方可在潜在供应商和已准入供应商选择需要邀请的供应商；并选择供应商所要报价的采购品（多选）；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.1.6</td><td><strong>审批并发布</strong>  完成询比价设置项后提交审批；完成审批流后自动发布给邀请的供应商（可选择站内信、短信、邮件等多种方式）；若为公开项目，则供应商可在公开项目展示区看到；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.1.6</td><td><strong>项目变更</strong>    采购方可在项目进行变更，包括截止时间，物料数量，备注；变更后经过审核后将变更信息发布给相关供应商；</td><td>×</td><td></td><td></td></tr><tr><td>URS-2.1.7</td><td><strong>项目截止</strong>  项目截止后，采购方可查看供应商报价；项目截止前，采购方任何人员均不可查看报价；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.1.8</td><td><strong>结果确认</strong>  由采购经办人的上级领导确认比价结果，确定合作供应商；确定后，通知相关报价供应商询比价结果；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.1.9</td><td><strong>增加价格库</strong>，询源后自动加入价格库，生成目录结构数据，后期可直接从价格库中带出价格供应商等信息？如果是同一个编码的采购，在价格库里面有的，是作为参考还是可以直接固定使用这个价格信息或者是在一定期限内可以固定使用这个价格等信息？</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2</td><td><strong><font color="blue">招标管理</font></strong></td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-2.2.1</td><td><strong>招标小组管理</strong>  采购方创建和维护招标小组，确定参与招标的采购方人员</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2.2</td><td><strong>招标书管理</strong>  <strong>招标书的创建和维护</strong></td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2.3</td><td><strong>招标发布</strong>  自主招标或委托招标，创建招标公告后，发布给竞标供应商，可基于<strong>采购申请创建</strong>；</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2.4</td><td><strong>招标变更</strong>  采购方可进行招标项目变更：<strong>如变更标的物</strong>、<strong>调整开标时间</strong>等</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2.5</td><td><strong>投标管理</strong>  供应商参与投标，并维护投标信息；  <strong>支持投标保证金、招标费用</strong>、专家费用等相关费用线上记录，支持招标文件控制；</td><td>○</td><td></td><td></td></tr><tr><td>URS-2.2.6</td><td><strong>资格审查</strong>  采购方可对供应商进行资格审查；支持资格预审：启用后，只有审批通过的供应商方可进行报价；</td><td>○</td><td></td><td></td></tr><tr><td>URS-2.2.7</td><td><strong>评分管理</strong>  采购方查看进行中的评分和历史评分；  支持评分的自动汇总，按照评估结果确认中标供应商；  怎么把评分表发给供应商？系统附件？是否需要在线评分？</td><td>√</td><td></td><td></td></tr><tr><td>URS-2.2.8</td><td><strong>专家库管理</strong>  管理专家账户，包括专家账户信息维护、查询、注册申请审批；  建立专家库，并设立招标评估标准，竞标供应商报价后，可进行<strong>预评标</strong>；（支持专家注册（内外部专家）、专家审批、专家变更、专家评价和退出的全面管理）；  支持招标过程的专家变更申请和审批；</td><td>○</td><td></td><td></td></tr><tr><td>URS-2.2.9</td><td><strong>保证金管理</strong>  用于采购方手工录入、查询招标寻源单的<strong>保证金状态</strong></td><td>×</td><td></td><td></td></tr></tbody></table><h1 id="8-4-合同管理（OA系统已经有合同管理模块，是否放OA即可？）"><a href="#8-4-合同管理（OA系统已经有合同管理模块，是否放OA即可？）" class="headerlink" title="8.4  合同管理（OA系统已经有合同管理模块，是否放OA即可？）"></a>8.4  合同管理（OA系统已经有合同管理模块，是否放OA即可？）</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>京桥通</th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td>URS-3.1</td><td><strong>合同管理</strong></td><td></td><td>Y</td><td>N</td></tr><tr><td>URS-3.1.1</td><td><strong>合同模板设置</strong>  合同模板：维护协议文本生成的模板文件，可以<strong>创建、变更、作废、审批、升版</strong>；  合同类型：设置合同模板所属的类型；</td><td>√</td><td></td><td></td></tr><tr><td>URS-3.1.2</td><td><strong>合同申请流程</strong>  可关联OA合同管理流程，将询比价结果自动导入到OA；</td><td>√</td><td></td><td></td></tr><tr><td>URS-3.1.3</td><td>电子签章  体系部，财务&#x2F;法务专业审核无误后，由合同管理员进行电子签章；   电子签名相关各方提供真实性、可靠性验证信息，维护公司印章图片等内容；</td><td>√</td><td></td><td></td></tr><tr><td>URS-3.1.4</td><td>合同签署  <strong>将合同发布给关联供应商</strong>，由供应商上传盖章后的合同；  如果相关供应商未注册则由经办人上传盖章后的合同；</td><td>√</td><td></td><td></td></tr><tr><td>URS-3.1.5</td><td><strong>合同查询</strong>  可根据不同的要求进行查询控制，比如合同信息、项目合同、部门经办人、状态分类等；</td><td>√</td><td></td><td></td></tr><tr><td>URS-3.1.6</td><td><strong>年度协议到期提醒</strong>    关联企业邮箱，以邮件形式通知经办人及时续签</td><td>○</td><td></td><td></td></tr><tr><td>URS-3.1.7</td><td><strong>合同编号归档</strong>  纸质版合同线下归档后与线上同步，系统自动编号，能导出最终纸质版合同归档清单</td><td>○</td><td></td><td></td></tr><tr><td>URS-3.1.8</td><td><strong>订单报表</strong>  采购订单跟踪执行报表，从采购申请-订单-接收-对账-开票链路对订单执行情况进行跟踪展示</td><td>○</td><td></td><td></td></tr><tr><td>URS-3.1.9</td><td><strong>合同报表</strong>  采购数据分析以报表形式展开</td><td>○</td><td></td><td></td></tr><tr><td>URS-3.1.10</td><td><strong>框架合同</strong>签了，分次购买每次还需要签一次性采购合同吗？</td><td>○</td><td></td><td></td></tr></tbody></table><h1 id="8-5-协同管理"><a href="#8-5-协同管理" class="headerlink" title="8.5  协同管理"></a>8.5  协同管理</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>京桥通</th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td>URS-4.1</td><td><strong>采购协同</strong></td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-4.1.1</td><td><strong>采购订单管理</strong>  可关联OA采购订单流程，并将采购订单发布给供应商。同时，采购方可对过程中订单进行取消、关闭、变更的操作；</td><td>√</td><td></td><td></td></tr><tr><td>URS-4.1.2</td><td><strong>订单反馈</strong>  供应商对采购方发布的订单进行反馈确认以及查询；  订单的补充信息或订单评价是否需要？</td><td>○</td><td></td><td></td></tr><tr><td>URS-4.1.3</td><td><strong>计划排程</strong>  采购方通过手工新建或者外部系统导入的方式发布计划排程给到供应商进行确认；也可对供应商发布的送货计划进行确认和反馈；</td><td>×</td><td></td><td></td></tr><tr><td>URS-4.1.4</td><td><strong>计划排程反馈</strong>  供应商对采购方发出的计划进行确认和反馈；同时可发布送货计划给到采购方确认</td><td>○</td><td></td><td></td></tr><tr><td>URS-4.1.5</td><td><strong>送货单管理</strong>  供应商根据订单或者计划排程进行送货单创建、变更、取消；</td><td>√</td><td></td><td></td></tr><tr><td>URS-4.1.6</td><td><strong>送货单审批</strong>  采购方对供应商创建的送货单进行审批和查询；</td><td>√</td><td></td><td></td></tr><tr><td>URS-4.1.7</td><td><strong>验收与拒收</strong>  采购可对协议或者订单进行验收&#x2F;拒收操作，并可进行验收单&#x2F;拒收单的查看；验收就是收货，还是收货外的环节？如果是收货外环节，哪些需要验收，强制的还是非强制？</td><td>√</td><td></td><td></td></tr><tr><td>URS-4.1.8</td><td><strong>已收货</strong>  可对来源单据（送货单&#x2F;订单&#x2F;协议等）或上游事务进行<strong>收货和冲销</strong>，并可进行收货数据查询；</td><td>√</td><td></td><td></td></tr><tr><td>URS-4.1.9</td><td><strong>供应商库存</strong>  供应商可录入自有库存及外协、寄售库存情况；</td><td>○</td><td></td><td></td></tr><tr><td>URS-4.2</td><td>质量协同</td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-4.2.1</td><td><strong>质量检验</strong>  采购方查看外部系统导入的质检单据，支持新建质检单录入质检结果；  供应商可在质检结果查询功能下进行查看；</td><td></td><td></td><td></td></tr><tr><td>URS-4.2.2</td><td><strong>质量整改管理</strong>  采购方对供应商发起质量整改，糅合8D、5W2H等质量管理分析方法创建质量整改报告；</td><td></td><td></td><td></td></tr><tr><td>URS-4.2.3</td><td><strong>质量整改反馈</strong>  供应商对采购方发起的质量整改在线反馈。</td><td></td><td></td><td></td></tr></tbody></table><h1 id="8-6-采购员门户？"><a href="#8-6-采购员门户？" class="headerlink" title="8.6  采购员门户？"></a>8.6  采购员门户？</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td>URS-5.1</td><td><strong>采购需求</strong>，招标管理，询价管理，订单执行，供应商管理待办事宜汇总，能链接进去进行待办事宜的处理。</td><td></td><td></td></tr><tr><td>URS-5.2</td><td><strong>供应商资质</strong>，订单交货等即将到期提醒统计，能链接进去看具体详细。</td><td></td><td></td></tr><tr><td>URS-5.3</td><td>按品名，年度，月度等统计采购金额报表</td><td></td><td></td></tr><tr><td>URS-5.4</td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-5.5</td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-5.6</td><td></td><td>Y</td><td>N</td></tr><tr><td>URS-5.7</td><td></td><td>Y</td><td>N</td></tr><tr><td>URS-5.8</td><td></td><td>Y</td><td>Y</td></tr><tr><td>URS-5.9</td><td></td><td>N</td><td>N</td></tr><tr><td>URS-5.10</td><td></td><td>N</td><td>N</td></tr></tbody></table><h1 id="8-7-公司采购移动端需求？"><a href="#8-7-公司采购移动端需求？" class="headerlink" title="8.7  公司采购移动端需求？"></a>8.7  公司采购移动端需求？</h1><table><thead><tr><th>URS**-**ID</th><th><strong>需求名称及描述</strong></th><th>ER</th><th>ES</th></tr></thead><tbody><tr><td></td><td><strong>供应商注册管理</strong>（供应商邀请，现场考察，送样申请反馈等）。供应商风险提醒。</td><td></td><td></td></tr><tr><td></td><td><strong>采购任务管理</strong>，需求的分配。</td><td></td><td></td></tr><tr><td></td><td><strong>发货计划确认</strong>，送货单的查询。</td><td></td><td></td></tr><tr><td></td><td><strong>采购订单管理</strong>，能看到订单信息，订单入库，发票，付款等信息。可以对订单做评价。</td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></tbody></table><h1 id="9-版本变更历史"><a href="#9-版本变更历史" class="headerlink" title="9    版本变更历史"></a>9    版本变更历史</h1><table><thead><tr><th>版本号</th><th>执行日期</th><th>主要修订内容</th></tr></thead><tbody><tr><td>00</td><td>见首页</td><td>新订</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> SRM </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> 供应链 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CR2023000763原料药研究院工作委托联系单中审批流程变更</title>
      <link href="/2023/12/25/%E5%8E%9F%E6%96%99%E8%8D%AF%E6%9D%BF%E5%9D%97%E4%B8%80%E7%BA%A7%E9%83%A8%E9%97%A8%E8%B4%9F%E8%B4%A3%E4%BA%BA5cde4b949ec9f056b44a6cf094a14517bde40420035451f4/"/>
      <url>/2023/12/25/%E5%8E%9F%E6%96%99%E8%8D%AF%E6%9D%BF%E5%9D%97%E4%B8%80%E7%BA%A7%E9%83%A8%E9%97%A8%E8%B4%9F%E8%B4%A3%E4%BA%BA5cde4b949ec9f056b44a6cf094a14517bde40420035451f4/</url>
      
        <content type="html"><![CDATA[<p>1.流程前2个节点改成ASL审批</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231225101755844.png" alt="image-20231225101755844" style="zoom: 67%;" /><p>2.条件要删除</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231225133233339.png" alt="image-20231225133233339" style="zoom:50%;" /><p>3.hisun.operatoraction.GetASLListForYll</p><p>第二个节点代码改成这个</p><p>4.增加抄送马海霞</p><p>5.增加委托人确认节点 改成分叉合并节点 同步按钮要改成确认 ，要用原料药查阅去同步然后菜单要记得原料药是查阅</p><p>6.修改按钮名称为批准</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231226085933441.png" alt="image-20231226085933441" style="zoom:33%;" /><p>7.受托部门为王玲燕的话不用走受托部门主任</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_17034889884554.png" alt="img"></p><p>8.配置一级部门负责人临时表定时任务</p>]]></content>
      
      
      <categories>
          
          <category> 发布 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> OA发布 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>项目管理概论</title>
      <link href="/2023/12/24/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/"/>
      <url>/2023/12/24/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h1 id="项目管理概论"><a href="#项目管理概论" class="headerlink" title="项目管理概论"></a>项目管理概论</h1><h2 id="基本的要素"><a href="#基本的要素" class="headerlink" title="基本的要素"></a>基本的要素</h2><span id="more"></span><p>1.独特的产品</p><ul><li>目标</li><li>可交付结果 </li><li>独特性</li><li>可以在组织的任何层级上开展</li></ul><p>2.临时性工作</p><ul><li>有起点和重点</li><li>并不意味持续时间短</li><li>项目临时，结果持久</li></ul><p>3.项目驱动变更（从一个状态到另一个状态）</p><p>4.创造业务价值</p><p>5.最终应该和组织的战略目标以及各个项目的业务价值相关</p><p>6.时间、成本、范围和质量是项目的重要因素</p><p>7.不能偏离业务</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224151757350.png" alt="image-20231224151757350" style="zoom: 50%;" /><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224153040646.png" alt="image-20231224153040646"></p><h2 id="项目集合项目组合的区别"><a href="#项目集合项目组合的区别" class="headerlink" title="项目集合项目组合的区别"></a>项目集合项目组合的区别</h2><ul><li>项目集是相互有关系的项目；项目组合是没有关系的</li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224150909302.png" alt="image-20231224150909302" style="zoom:50%;" /><h2 id="项目经理的角色"><a href="#项目经理的角色" class="headerlink" title="项目经理的角色"></a>项目经理的角色</h2><p>1.组织委派，负责领导团队实现项目目标</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224154107399.png" alt="image-20231224154107399" style="zoom: 33%;" /><p>2.技能</p><ul><li>项目管理</li><li>战略和商务</li><li>领导力</li></ul><p>3.风格</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224154551272.png" alt="image-20231224154551272"></p><h2 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h2><p>启动、组织和准备、执行项目工作、结束项目</p><p>成本投入低高低</p><p>风险越来越低，变更代价越来越高</p><ul><li>预测型</li><li>迭代型(磨刀)</li><li>增量型(渐进)</li><li>适应型（迭代+增量）</li><li>混合型</li></ul><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224160656690.png" alt="image-20231224160656690"></p><h2 id="体系"><a href="#体系" class="headerlink" title="体系"></a>体系</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231224162130423.png" alt="image-20231224162130423"></p>]]></content>
      
      
      <categories>
          
          <category> 软考 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> 高项 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OA采购</title>
      <link href="/2023/12/19/%E9%87%87%E8%B4%AD/"/>
      <url>/2023/12/19/%E9%87%87%E8%B4%AD/</url>
      
        <content type="html"><![CDATA[<a href="https://chenbaitao120.gitee.io/2023/12/19/采购/" onclick="window.location.replace(this.href); return false;">    <img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/u=1913648676,1108977963&fm=253&fmt=auto&app=138&f=JPEG.jpeg" alt="image-20231209143728319" style="zoom: 100%;"  /></a><span id="more"></span># 采购<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h2><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/%E9%87%87%E8%B4%AD%E4%B8%9A%E5%8A%A1%20(1).jpg" alt="采购业务 (1)" style="zoom:200%;" /><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/%E4%BC%81%E4%B8%9A%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_17024509248627.png" alt="img"></p><h2 id="预算配置"><a href="#预算配置" class="headerlink" title="预算配置"></a>预算配置</h2><p>1.选择费用大小类</p><p>​<img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231213103220932.png" alt="image-20231213103220932" style="zoom: 33%;" /></p><p>2.对应一个预算科目或者项目</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231213103336926.png" alt="image-20231213103336926" style="zoom: 33%;" /><p>3.预算维护（SAP同步过来）</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231213103428427.png" alt="image-20231213103428427" style="zoom:33%;" /><p>4.采购申请的时候预算费用冻结</p><p>入库的时候费用入账 ，确认收货（实际收货发票录入为准），标识为是的时候释放所有冻结的费用，如果超出预算会有</p><h2 id="京东"><a href="#京东" class="headerlink" title="京东"></a>京东</h2><p>供应商为上海圆迈贸易公司的时候需要同步京东账户的数据</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231213164839521.png" alt="image-20231213164839521"></p><p>CreatePTP0205 归档日期大于预付款基准日期直接付款</p><p>入库 归档入账</p><p>开票 过账日期+账期自动发起付款申请 可能对应多比订单 归档同步凭证</p><p>付款申请  出纳节点同步到SAP</p><p>供应商变更</p><p>合同变更</p><p>预付款和入库是平行的关系</p><p>应付对应预付款 如果发票没有录入还要走应付发票录入 提交就冻结预算 ，发票录入后才会入账</p><p>招标文件</p><p>sap计划任务推到OA直采数据，入库在直采入 直采不涉及预算</p><p>京东付款 直接走SAP 京东同步数据</p><p>采购订单作废</p>]]></content>
      
      
      <categories>
          
          <category> IT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 供应链 </tag>
            
            <tag> OA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>成本管理</title>
      <link href="/2023/12/17/%E6%88%90%E6%9C%AC%E7%AE%A1%E7%90%86/"/>
      <url>/2023/12/17/%E6%88%90%E6%9C%AC%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<a href="https://chenbaitao120.gitee.io/2023/12/17/%E6%88%90%E6%9C%AC%E7%AE%A1%E7%90%86/" onclick="window.location.replace(this.href); return false;">    <img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217153259647.png" alt="image-20231209143728319" style="zoom: 50%;"  /></a><span id="more"></span><iframe src="C:\Users\ALIENWARE\blog\dist\a.html" width="100%" height="500" name="topFrame" scrolling="yes" noresize="noresize" frameborder="0" id="topFrame"></iframe><h1 id="管理基础"><a href="#管理基础" class="headerlink" title="管理基础"></a>管理基础</h1><h2 id="成本类型"><a href="#成本类型" class="headerlink" title="成本类型"></a>成本类型</h2><p>可变成本1；固定成本；<strong>直接成本（差旅费 工资 项目使用的物料）</strong>；<strong>间接成本</strong>（<strong>税金，额外福利和保卫费</strong>用）；机会成本；沉没成本</p><h2 id="成本储备"><a href="#成本储备" class="headerlink" title="成本储备"></a>成本储备</h2><p>应急储备在成本基准之中，并且可以想得到的；管理储备不在成本基准当中，并且无法预测的； </p><h2 id="成本管理过程"><a href="#成本管理过程" class="headerlink" title="成本管理过程"></a>成本管理过程</h2><p>规划- &gt; 估算 -&gt; 指定预算 -&gt; 控制成本</p><ul><li>规划成本管理应该在早期就进行工作规划。</li><li>估算成本需要分析备选成本方案，比如自制成本，购买成本和租赁成本等多种资源共享方案。</li><li>项目估算的准确性随着项目的进行逐步提高</li><li>成本估算需要考虑全部资源，比如通货膨胀补贴、融资成本、应急成本。</li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217141125837.png" alt="image-20231217141125837" style="zoom:200%;" /><h2 id="估算成本"><a href="#估算成本" class="headerlink" title="估算成本"></a>估算成本</h2><h3 id="估算方案"><a href="#估算方案" class="headerlink" title="估算方案"></a>估算方案</h3><ul><li><p>类比估算，以往项目的参数值和属性</p></li><li><p>参数估算，历史数据之间的统计关系和变量</p></li><li><p>自下向上估算</p></li><li><p>三点估算</p><ul><li><p>三角分布</p></li><li><p>贝塔分布</p></li></ul></li></ul><h3 id="数据分析"><a href="#数据分析" class="headerlink" title="数据分析"></a>数据分析</h3><ul><li>备选方案分析</li><li>储备分析 应急储备是成本基准的一部分</li><li>质量成本</li></ul><h3 id="决策投票"><a href="#决策投票" class="headerlink" title="决策投票"></a>决策投票</h3><ul><li>对多个未来行动方案进行评估的过程</li></ul><h4 id="成本估算"><a href="#成本估算" class="headerlink" title="成本估算"></a>成本估算</h4><ul><li>包括应急储备。</li><li>可以是汇总和详细分列的。</li><li>应该涵盖全部资源。</li><li>间接成本也包含在项目估算中，可以在活动层级和更高层级上列间接成本</li></ul><h2 id="制定预算"><a href="#制定预算" class="headerlink" title="制定预算"></a>制定预算</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217145503804.png" alt="image-20231217145503804"></p><ul><li>成本汇总：把成本估算汇总到WBS工作包，然后工作包汇总包WBS更高层次比如控制账户。<font color="red"><strong>论文考点</strong></font></li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217145659341.png" alt="image-20231217145659341" style="zoom:67%;" /><ul><li>资金限制平衡 对项目资金的限制来平衡资金的指出，可以添加强制日期来实现，限制资金过度使用。</li><li>融资：为项目获取资金</li><li>如有管理储备，总资金需求等于成本基准加上管理储备，项目资金以增量的方式投入。</li></ul><h2 id="控制成本"><a href="#控制成本" class="headerlink" title="控制成本"></a>控制成本</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217150828049.png" alt="image-20231217150828049"></p><ul><li>项目资金支出和完成的工作之间的关系，<strong>关键在于管理经批准的成本基准</strong></li><li>对造成基准变更因素世家影响，确保所有变更请求得到及时处理，管理变更，不超出批准的资金限额，分析成本基准的偏差，监督工作绩效，防止未经批准的变更，报告所有经批准的变更，控制成本超支</li><li>项目资金需求</li><li>工作绩效数据</li></ul><h2 id="计算"><a href="#计算" class="headerlink" title="计算"></a>计算</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217151221771.png" alt="image-20231217151221771"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217151533038.png" alt="image-20231217151533038"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217152306481.png"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231217152755864.png" alt="image-20231217152755864"></p>]]></content>
      
      
      <categories>
          
          <category> 软考 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> 高项 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>深入理解影刀与实践</title>
      <link href="/2023/12/10/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%BD%B1%E5%88%80%E4%B8%8E%E5%AE%9E%E8%B7%B5/"/>
      <url>/2023/12/10/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%BD%B1%E5%88%80%E4%B8%8E%E5%AE%9E%E8%B7%B5/</url>
      
        <content type="html"><![CDATA[<a href="https://chenbaitao120.gitee.io/2023/12/10/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3%E5%BD%B1%E5%88%80%E4%B8%8E%E5%AE%9E%E8%B7%B5/" onclick="window.location.replace(this.href); return false;">    <img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231210144809908.png" alt="image-20231209143728319" style="zoom: 80%;"  /></a><span id="more"></span><h1 id="搭建第一个机器人"><a href="#搭建第一个机器人" class="headerlink" title="搭建第一个机器人"></a>搭建第一个机器人</h1><h2 id="搭建第一个自动化流程"><a href="#搭建第一个自动化流程" class="headerlink" title="搭建第一个自动化流程"></a>搭建第一个自动化流程</h2><ul><li><p>打开网页-&gt;填写输入框-&gt;crlt+鼠标左键可以选择输入框元素-&gt;点击元素 -&gt;crlt+左键</p></li><li><p>搭建完成，其实就是对 元素+操作 的编排集合。</p></li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231210144154573.png" alt="image-20231210144154573" style="zoom:50%;" /><h2 id="元素"><a href="#元素" class="headerlink" title="元素"></a>元素</h2><ul><li>最大相似性</li></ul><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231210204111384.png" alt="image-20231210204111384"></p><ul><li><p>元素有完成和取消，如果想捕获全部，那么完成和取消都需要捕获，因为他们只有位置是相似的。</p></li><li><p>相似元素主要处理循环相似元素的操作。</p></li></ul><h2 id="操作类型"><a href="#操作类型" class="headerlink" title="操作类型"></a>操作类型</h2><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216135128038.png" alt="image-20231216135128038" style="zoom: 50%;"/><p><a href="https://shop.yingdao.com/">https://shop.yingdao.com/</a> 影刀商城</p><h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><ul><li>对象命名不能重复；要有意义；</li></ul> <img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216143618599.png" alt="image-20231216143618599" style="zoom: 50%;" /><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ul><li><p>字符串  数字 区别是拼接和相加</p></li><li><p>列表</p></li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216151701472.png" alt="image-20231216151701472" style="zoom:50%;" /><h2 id="如何搭建一个实用的机器人"><a href="#如何搭建一个实用的机器人" class="headerlink" title="如何搭建一个实用的机器人"></a>如何搭建一个实用的机器人</h2><p>输入商品名称进行搜索，搜索出来的内容抓取下来保存到本地的excel里面去</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216152031597.png" alt="image-20231216152031597"></p><p>打开页面，输入账号密码，设置超时时间，通过获取相似元素列表获取底下的页码，然后获得倒数第二个就是页码的数值，设为变量，这个就是页码的数字，批量数据抓取抓取页数这里设置成这个数字，就能固定获取到指定的全部列表数据。</p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216161643149.png" alt="image-20231216161643149" style="zoom: 80%;" /><h2 id="如何进行人机交互"><a href="#如何进行人机交互" class="headerlink" title="如何进行人机交互"></a>如何进行人机交互</h2><ul><li>用这个可以让执行的过程中允许你输入东西，可以让你在运行过程中个性化自定义的东西放进去</li></ul><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216162316281-17027150274641.png" style="zoom: 80%;" /><h2 id="如何进行机器人的分享"><a href="#如何进行机器人的分享" class="headerlink" title="如何进行机器人的分享"></a>如何进行机器人的分享</h2><ul><li><p>左上角重命名保存一下退出来。</p></li><li><p>要分享先发版；选中机器人点击发版。填写发版备注；</p></li></ul><h2 id="定时任务"><a href="#定时任务" class="headerlink" title="定时任务"></a>定时任务</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231216164525524.png" alt="image-20231216164525524"></p><h1 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h1><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218205554441.png" alt="image-20231218205554441" style="zoom:50%;" /><h2 id="单分支"><a href="#单分支" class="headerlink" title="单分支"></a>单分支</h2><p>可以进行条件判断</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218214427565.png" alt="image-20231218214427565"></p><h2 id="二分支"><a href="#二分支" class="headerlink" title="二分支"></a>二分支</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218214839752.png" alt="image-20231218214839752"></p><h2 id="多分支"><a href="#多分支" class="headerlink" title="多分支"></a>多分支</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218220439559.png" alt="image-20231218220439559"></p><h2 id="与或"><a href="#与或" class="headerlink" title="与或"></a>与或</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218222344644.png" alt="image-20231218222344644"></p><h2 id="元素判断"><a href="#元素判断" class="headerlink" title="元素判断"></a>元素判断</h2><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231218223824657.png" alt="image-20231218223824657"></p>]]></content>
      
      
      <categories>
          
          <category> IT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 自动化 </tag>
            
            <tag> 爬虫 </tag>
            
            <tag> 影刀 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大理旅游</title>
      <link href="/2023/11/10/%E5%A4%A7%E7%90%86%E6%97%85%E6%B8%B8/"/>
      <url>/2023/11/10/%E5%A4%A7%E7%90%86%E6%97%85%E6%B8%B8/</url>
      
        <content type="html"><![CDATA[<p>大理||旅游<br><a href="https://chenbaitao120.gitee.io/nodeppt/旅游/dist/大理.html">点击展示PPT</a></p><span id="more"></span><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/5a2d4bb581c6eb77c7d5216b.jpg" alt="5a2d4bb581c6eb77c7d5216b"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/b2a94e73a306003edc2b2534.jpg" alt="b2a94e73a306003edc2b2534"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/8f9b421d909f77b4ba6c877f.jpg" alt="8f9b421d909f77b4ba6c877f"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f37a4609b11b5e82d098593e.jpg" alt="f37a4609b11b5e82d098593e"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/7cf7427a8386a94d7448050b.jpg" alt="7cf7427a8386a94d7448050b"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/96e24efa9867a1511b6f3846.jpg" alt="96e24efa9867a1511b6f3846"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/e1c64cebb41476a70aac471a.jpg" alt="e1c64cebb41476a70aac471a"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/6d8d43bdac3260e85df4f03d.jpg" alt="6d8d43bdac3260e85df4f03d"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/4c7d47419e58f20413bb5736.jpg" alt="4c7d47419e58f20413bb5736"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/7be84453b1e9e30759f1dd00.jpg" alt="7be84453b1e9e30759f1dd00"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/2911421b9c3107aa211d62c0.jpg" alt="2911421b9c3107aa211d62c0"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/ae744c3ea7b7a3c5f578d28c.jpg" alt="ae744c3ea7b7a3c5f578d28c"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/43714cc4a9a946aa039f01d0.jpg" alt="43714cc4a9a946aa039f01d0"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f0ee4d1c8e530739539b9c2b.jpg" alt="f0ee4d1c8e530739539b9c2b"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/41b8471aad8fc7d6fa154740.jpg" alt="41b8471aad8fc7d6fa154740"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/41b8471aad8fc7d6fa154740.jpg"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/c11e4f42ac0358cf5cae8bf7.jpg" alt="c11e4f42ac0358cf5cae8bf7"></p>]]></content>
      
      
      <categories>
          
          <category> 旅游 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>大连旅游</title>
      <link href="/2023/10/10/%E5%A4%A7%E8%BF%9E%E6%97%85%E6%B8%B8/"/>
      <url>/2023/10/10/%E5%A4%A7%E8%BF%9E%E6%97%85%E6%B8%B8/</url>
      
        <content type="html"><![CDATA[<p>国庆游大连1<br><a href="https://chenbaitao120.gitee.io/nodeppt/旅游/dist/大连.html">点击展示PPT</a></p><span id="more"></span><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/79dd4cae82ba02b8206c5a88.jpg" alt="79dd4cae82ba02b8206c5a88"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/6d2b4fdb8b0c0701e30c15db.jpg" alt="6d2b4fdb8b0c0701e30c15db"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/0268484680ec352bc6f60c24.jpg" alt="0268484680ec352bc6f60c24"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/d7e7441fa69155b8e9d080ef.jpg" alt="d7e7441fa69155b8e9d080ef"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/ed7d49d884d234ad4de027c7.jpg" alt="ed7d49d884d234ad4de027c7"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f88c4a6d8ebfbb16af8f7e1e.jpg" alt="f88c4a6d8ebfbb16af8f7e1e"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/d76d48d6b582ea841e3a0476.jpg" alt="d76d48d6b582ea841e3a0476"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/bd9c49dba4770114658de43d.jpg" alt="bd9c49dba4770114658de43d"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f1344f158926b9162102884a.jpg" alt="f1344f158926b9162102884a"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f76749ddb32a768be76757db.jpg" alt="f76749ddb32a768be76757db"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/b17b42a686322c0536210a72.jpg" alt="b17b42a686322c0536210a72"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/a15045d8ba66136dcc30d993.jpg" alt="a15045d8ba66136dcc30d993"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/84214134928c2d6b7d68ef3a.jpg" alt="84214134928c2d6b7d68ef3a"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/1bc24b09af48a548896dfbca.jpg" alt="1bc24b09af48a548896dfbca"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/e48548668b57671fbb21eb3a.jpg" alt="e48548668b57671fbb21eb3a"></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/f73340a598836bde7cabcc31.jpg" alt="f73340a598836bde7cabcc31"></p>]]></content>
      
      
      <categories>
          
          <category> 旅游 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 大连 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo实践</title>
      <link href="/2013/07/13/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3hexo/"/>
      <url>/2013/07/13/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3hexo/</url>
      
        <content type="html"><![CDATA[<a href="https://chenbaitao120.gitee.io/2013/07/13/深入理解hexo/" onclick="window.location.replace(this.href); return false;">    <img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231209143728319.png" alt="image-20231209143728319" style="zoom: 100%;"  /></a><span id="more"></span><h1 id="优秀案例"><a href="#优秀案例" class="headerlink" title="优秀案例"></a>优秀案例</h1><p><a href="https://baiyongan.github.io/posts/2566/">https://baiyongan.github.io/posts/2566/</a></p><h1 id="基本结构"><a href="#基本结构" class="headerlink" title="基本结构"></a>基本结构</h1><ul><li><p>hexo网站地址 <a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p></li><li><p>source：放置原始的markdown</p></li><li><p>themes:放置主题 可以进行更改 生成</p></li><li><p>config.yml 配置文件夹 标题 作者 远程部署地址等</p></li></ul><h2 id="生成静态网站"><a href="#生成静态网站" class="headerlink" title="生成静态网站"></a>生成静态网站</h2><ol><li>hexo generate</li><li>hexo g</li><li>生成好的pulic文件夹就直接当成静态网站进行部署</li></ol><h1 id="博客的主题安装和推荐"><a href="#博客的主题安装和推荐" class="headerlink" title="博客的主题安装和推荐"></a>博客的主题安装和推荐</h1><p><a href="https://hexo.io/themes/">https://hexo.io/themes/</a></p><p>1.git clone获取下来</p><p>复制到theme文件夹下面</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231207205207054.png" alt="image-20231207205207054"></p><p>2.修改config.yml</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231207205749630.png" alt="image-20231207205749630"></p><p>启动即可</p><h1 id="发布安装"><a href="#发布安装" class="headerlink" title="发布安装"></a>发布安装</h1><ol><li>npm install -g cnpm –registry&#x3D;<a href="http://registry.npm.taobao.org/">http://registry.npm.taobao.org</a> 安装淘宝镜像源</li><li>npm config get registry</li><li>配置cnpm环境变量</li><li>cnpm install -g hexo-cli 安装博客</li><li>hexo -v验证博客</li><li>hexo init 初始化博客</li><li>hexo -s 启动博客本地</li><li>hexo -n “我的第一篇文章”</li></ol><ul><li><p>部署到远端去 通过git hub上去 github密码 <a href="mailto:&#53;&#55;&#52;&#x36;&#53;&#56;&#50;&#49;&#x38;&#64;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;">&#53;&#55;&#52;&#x36;&#53;&#56;&#50;&#49;&#x38;&#64;&#x71;&#x71;&#x2e;&#x63;&#x6f;&#x6d;</a> ysydxhyz147<br><a href="https://github.com/chenbaitao120/baitaochen.gitub.io.git">https://github.com/chenbaitao120/baitaochen.gitub.io.git</a><br>git 新建仓库 仓库命名一定要是自己的昵称baitaochen.github.io<br>_config.yml 编辑<br>-—————————<br>deploy:<br> type: git<br> repo: <a href="https://github.com/chenbaitao120/chenbaitao120.github.io.git">https://github.com/chenbaitao120/chenbaitao120.github.io.git</a><br> branch: main</p></li><li><p>npm install –save hexo-deployer-git 安装git相关组件</p></li><li><p>部署到远端<br>hexo d </p></li><li><p>博客主题:<a href="https://github.com/litten/hexo-theme-yilia">https://github.com/litten/hexo-theme-yilia</a> 素材操作<br>git clone <a href="https://github.com/litten/hexo-theme-yilia.git">https://github.com/litten/hexo-theme-yilia.git</a> thmes&#x2F;yilia 克隆<br>config 里面修改主题为yilia<br>hexo clean 清除一下<br>hexo s 重新开始</p></li></ul><p> 博客地址：<br> <a href="https://chenbaitao120.github.io/">https://chenbaitao120.github.io/</a></p><h1 id="如何自定义博客结构"><a href="#如何自定义博客结构" class="headerlink" title="如何自定义博客结构"></a>如何自定义博客结构</h1><p>hexo.io&#x2F;hexo&#x3D;theme-light&#x2F;</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231207210909960.png" alt="image-20231207210909960"></p><p>其实就是修改html文件</p><p>就算使用网页开发的技术修改静态文件的结构</p><h1 id="如何只展示部分博客内容"><a href="#如何只展示部分博客内容" class="headerlink" title="如何只展示部分博客内容"></a>如何只展示部分博客内容</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--more--&gt;</span><br></pre></td></tr></table></figure><p>在需要展示的内容前面插入以上代码</p><h1 id="如何开始写博客文章以及博客文章的标签"><a href="#如何开始写博客文章以及博客文章的标签" class="headerlink" title="如何开始写博客文章以及博客文章的标签"></a>如何开始写博客文章以及博客文章的标签</h1><p>markdown来写文章</p><p><a href="https://hexo.io/docs/front-matter.html">https://hexo.io/docs/front-matter.html</a></p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231207211805793.png" alt="image-20231207211805793"></p><p>要按照标签的写法。需要学习markdown的语法</p><p><a href="https://blog.csdn.net/qq_40609008/article/details/120198623">https://blog.csdn.net/qq_40609008/article/details/120198623</a></p><h1 id="代码如何美化"><a href="#代码如何美化" class="headerlink" title="代码如何美化"></a>代码如何美化</h1><ol><li><p><a href="https://hexo.io/docs/front-matter.html">https://hexo.io/docs/front-matter.html</a></p></li><li><p>在tag plugins里面描述代码如何书写</p></li><li><p>设置高亮 引入到header里面</p></li></ol><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231207213436853.png" alt="image-20231207213436853"></p><h1 id="本地写作时图床的解决方案"><a href="#本地写作时图床的解决方案" class="headerlink" title="本地写作时图床的解决方案"></a>本地写作时图床的解决方案</h1><ul><li>qiniu.com</li></ul><h1 id="插件的安装"><a href="#插件的安装" class="headerlink" title="插件的安装"></a>插件的安装</h1><ol><li><p><a href="http://ibruce.info/2015/04/04/busuanzi/">http://ibruce.info/2015/04/04/busuanzi/</a></p></li><li><p>hexo.io&#x2F;plugins</p></li><li><p>插件安装在ejs 脚本里面</p></li></ol><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231209140050342.png" alt="image-20231209140050342"></p><h1 id="如何增加搜索的功能"><a href="#如何增加搜索的功能" class="headerlink" title="如何增加搜索的功能"></a>如何增加搜索的功能</h1><ol><li><p>swifty.com</p></li><li><p>自定义site语法进行跳转</p></li><li><p>爬虫 -》 数据库-》接口</p></li></ol><h1 id="多个博客系统接入方案的分析"><a href="#多个博客系统接入方案的分析" class="headerlink" title="多个博客系统接入方案的分析"></a>多个博客系统接入方案的分析</h1><ul><li><p>查看访问的来源，热点图</p></li><li><p>CNZZ</p></li></ul><h1 id="其他文档"><a href="#其他文档" class="headerlink" title="其他文档"></a>其他文档</h1><ul><li><p><a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a> 中文文档</p></li><li><p><a href="https://zhuanlan.zhihu.com/p/108918133">https://zhuanlan.zhihu.com/p/108918133</a> yilia美化文档</p></li></ul><h1 id="如何设置个人头像"><a href="#如何设置个人头像" class="headerlink" title="如何设置个人头像"></a>如何设置个人头像</h1><ol><li><p>C:\Users\ALIENWARE\blog\themes\yilia_config.yml</p></li><li><p>在主题的配置文件中找到对应的图片地址</p></li></ol><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231209181046198.png" alt="image-20231209181046198"></p><h1 id="如何设置标题头"><a href="#如何设置标题头" class="headerlink" title="如何设置标题头"></a>如何设置标题头</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: hexo学习</span><br><span class="line">date: 2013/7/13 20:46:25</span><br><span class="line">bash declare: true</span><br><span class="line">tags: [hexo标签] </span><br><span class="line">categories: [hexo相关]</span><br><span class="line">---</span><br></pre></td></tr></table></figure><h1 id="yilia的最佳实践"><a href="#yilia的最佳实践" class="headerlink" title="yilia的最佳实践"></a>yilia的最佳实践</h1><p><a href="https://zhuanlan.zhihu.com/p/108918133">https://zhuanlan.zhihu.com/p/108918133</a></p><h1 id="点击分类标签报错问题"><a href="#点击分类标签报错问题" class="headerlink" title="点击分类标签报错问题"></a>点击分类标签报错问题</h1><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231209183403496.png" alt="image-20231209183403496"></p><p>这里去掉url后面的&#x2F;  即可解决问题</p><h1 id="如何实现站内搜索功能"><a href="#如何实现站内搜索功能" class="headerlink" title="如何实现站内搜索功能"></a>如何实现站内搜索功能</h1><h2 id="1-search插件安装"><a href="#1-search插件安装" class="headerlink" title="1.search插件安装"></a>1.search插件安装</h2><p>yilia并没有在网站内搜索内容的功能，只能在所有文章里搜索匹配标题，这不能满足需求。在网上搜了不少资料，但并没有针对这个修改，这对前端基本没有了解的我，自己摸索起来是真的有点困难。在这里记录下自己修改的内容，并不是完善的功能，但是能实现搜索全站内容。</p><p>参考别人基于yilia主题升级的yelee实现的本地搜索功能:<br>MOxfive的博客<br>码农半亩田的博客</p><p>1.search插件安装<br>本地站内搜索都是基于索引文件的，Hexo中可通过hexo-generator-search插件生成XML格式的索引文件，通过hexo-generator-json-content插件生成JSON格式的索引文件，此处选择了hexo-generator-search:<br>npm install –save hexo-generator-search<br>然后在Hexo站点根目录下的_config.yml中添加如下配置即可：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: all</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2-搜索框添加"><a href="#2-搜索框添加" class="headerlink" title="2.搜索框添加"></a>2.搜索框添加</h2><p>修改主题目录<code>left-col.ejs</code>文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;nav class=&quot;header-smart-menu&quot;&gt;</span><br><span class="line">    &lt;% for (var i in theme.smart_menu)&#123; %&gt;</span><br><span class="line">    &lt;% if(theme.smart_menu[i])&#123; %&gt;</span><br><span class="line">    &lt;a q-on=&quot;click: openSlider(e, &#x27;&lt;%-i%&gt;&#x27;)&quot; href=&quot;javascript:void(0)&quot;&gt;&lt;%= theme.smart_menu[i] %&gt;&lt;/a&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">            &lt;%&#125;%&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">在上面这代码后面添加</span><br><span class="line"></span><br><span class="line">&lt;form id=&quot;search-form&quot;&gt; &lt;!-- 搜索框相关 --&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; id=&quot;local-search-input&quot; name=&quot;q&quot; results=&quot;0&quot; style=&quot;text-align:center&quot; placeholder=&quot;站内搜索...&quot; class=&quot;search form-control&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot;/&gt;</span><br><span class="line">    &lt;i class=&quot;fa fa-times&quot; onclick=&quot;resetSearch()&quot;&gt;&lt;/i&gt; &lt;!-- 清空/重置搜索框 --&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div id=&quot;local-search-result&quot;&gt;&lt;/div&gt; &lt;!-- 搜索结果区 --&gt;</span><br><span class="line">&lt;p class=&#x27;no-result&#x27;&gt;没找到。。。&lt;/p&gt; &lt;!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 --&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="3-搜索框样式修改"><a href="#3-搜索框样式修改" class="headerlink" title="3.搜索框样式修改"></a>3.搜索框样式修改</h2><p>参考他们的样式，修改<code>C:\Users\ALIENWARE\blog\themes\yilia\source\main.0cf68a.css</code>文件，在最后添加</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line">.search &#123;</span><br><span class="line">  width: 65%;</span><br><span class="line">  height: 25px;</span><br><span class="line">  margin-top: 0px;</span><br><span class="line">  padding: 0;</span><br><span class="line">  font-family: inherit;</span><br><span class="line">  border: 2px solid transparent;</span><br><span class="line">  border-bottom: 3px solid #fff;</span><br><span class="line">  border-radius: 2px;</span><br><span class="line">  opacity: 0.8;</span><br><span class="line">  background: #708090;</span><br><span class="line">&#125;</span><br><span class="line">.search:hover &#123;</span><br><span class="line">  border: 2px solid #d3d3d3;</span><br><span class="line">  opacity: 1;</span><br><span class="line">  box-shadow: 0 0 10px rgba(0,0,0,0.3);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*搜索重置按钮*/</span><br><span class="line">#search-form .fa-times &#123;</span><br><span class="line">  display: none;</span><br><span class="line">  padding: 1px 0.7em;</span><br><span class="line">  box-shadow: 0 0 3px rgba(0,0,0,0.15);</span><br><span class="line">  cursor: pointer;</span><br><span class="line">  color: #ff0000;</span><br><span class="line">&#125;</span><br><span class="line">#search-form .fa-times:active &#123;</span><br><span class="line">  background: #fff;</span><br><span class="line">&#125;</span><br><span class="line">#search-form .fa-times:hover &#123;</span><br><span class="line">  zoom: 1.1;</span><br><span class="line">  padding: 1px 0.6em;</span><br><span class="line">  border: 1px solid #fff;</span><br><span class="line">  box-shadow: 0 0 6px rgba(0,0,0,0.25);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*搜索结果区*/</span><br><span class="line">#local-search-result &#123;</span><br><span class="line">  margin: auto -12% auto -6%;</span><br><span class="line">  font-size: 0.9em;</span><br><span class="line">  text-align: left;</span><br><span class="line">  word-break: break-all;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#local-search-result ul.search-result-list li:hover &#123;</span><br><span class="line">  font-weight: normal;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*单条搜索结果*/</span><br><span class="line">#local-search-result li &#123;</span><br><span class="line">  margin: 0.5em auto;</span><br><span class="line">  border-bottom: 2px solid #d3d3d3;</span><br><span class="line">&#125;</span><br><span class="line">#local-search-result .search-result-list li:hover &#123;</span><br><span class="line">  background: rgba(158,188,226,0.21);</span><br><span class="line">  box-shadow: 0 0 5px rgba(0,0,0,0.2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*匹配的标题*/</span><br><span class="line">#local-search-result a.search-result-title &#123;</span><br><span class="line">  line-height: 1.2;</span><br><span class="line">  font-weight: bold;</span><br><span class="line">  color: #ff000;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*搜索预览段落*/</span><br><span class="line">#local-search-result p.search-result &#123;</span><br><span class="line">  margin: 0.4em auto;</span><br><span class="line">  line-height: 1.2em;</span><br><span class="line">  max-height: 3.6em;</span><br><span class="line">  overflow: hidden;</span><br><span class="line">  text-align: justify;</span><br><span class="line">  color: #fff;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*匹配的关键词*/</span><br><span class="line">#local-search-result em.search-keyword &#123;</span><br><span class="line">  color: #f58e90;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/*无匹配搜索结果时显示*/</span><br><span class="line">p.no-result &#123;</span><br><span class="line">  display: none;</span><br><span class="line">  margin: 2em 0 2em 6%;</span><br><span class="line">  padding-bottom: 0.5em;</span><br><span class="line">  text-align: left;</span><br><span class="line">  color: #fff;</span><br><span class="line">  font-family: font-serif serif;</span><br><span class="line">  border-bottom: 2px solid #d3d3d3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="4-js文件添加"><a href="#4-js文件添加" class="headerlink" title="4.js文件添加"></a>4.js文件添加</h2><p>在source文件下添加<code>search.js</code>文件，内容问下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">// A local search script with the help of [hexo-generator-search](https://github.com/PaicHyperionDev/hexo-generator-search)</span><br><span class="line">// Copyright (C) 2015 </span><br><span class="line">// Joseph Pan &lt;http://github.com/wzpan&gt;</span><br><span class="line">// Shuhao Mao &lt;http://github.com/maoshuhao&gt;</span><br><span class="line">// Edited by MOxFIVE &lt;http://github.com/MOxFIVE&gt;</span><br><span class="line"></span><br><span class="line">var searchFunc = function(path, search_id, content_id) &#123;</span><br><span class="line">    &#x27;use strict&#x27;;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url: path,</span><br><span class="line">        dataType: &quot;xml&quot;,</span><br><span class="line">        success: function( xmlResponse ) &#123;</span><br><span class="line">            // get the contents from search data</span><br><span class="line">            var datas = $( &quot;entry&quot;, xmlResponse ).map(function() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    title: $( &quot;title&quot;, this ).text(),</span><br><span class="line">                    content: $(&quot;content&quot;,this).text(),</span><br><span class="line">                    url: $( &quot;url&quot; , this).text()</span><br><span class="line">                &#125;;</span><br><span class="line">            &#125;).get();</span><br><span class="line">            var $input = document.getElementById(search_id);</span><br><span class="line">            var $resultContent = document.getElementById(content_id);</span><br><span class="line">            $input.addEventListener(&#x27;input&#x27;, function()&#123;</span><br><span class="line">                var str=&#x27;&lt;ul class=\&quot;search-result-list\&quot;&gt;&#x27;;                </span><br><span class="line">                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);</span><br><span class="line">                $resultContent.innerHTML = &quot;&quot;;</span><br><span class="line">                if (this.value.trim().length &lt;= 0) &#123;</span><br><span class="line">                    return;</span><br><span class="line">                &#125;</span><br><span class="line">                // perform local searching</span><br><span class="line">                datas.forEach(function(data) &#123;</span><br><span class="line">                    var isMatch = true;</span><br><span class="line">                    var content_index = [];</span><br><span class="line">                    var data_title = data.title.trim().toLowerCase();</span><br><span class="line">                    var data_content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;).toLowerCase();</span><br><span class="line">                    var data_url = data.url;</span><br><span class="line">                    var index_title = -1;</span><br><span class="line">                    var index_content = -1;</span><br><span class="line">                    var first_occur = -1;</span><br><span class="line">                    // only match artiles with not empty titles and contents</span><br><span class="line">                    if(data_title != &#x27;&#x27; &amp;&amp; data_content != &#x27;&#x27;) &#123;</span><br><span class="line">                        keywords.forEach(function(keyword, i) &#123;</span><br><span class="line">                            index_title = data_title.indexOf(keyword);</span><br><span class="line">                            index_content = data_content.indexOf(keyword);</span><br><span class="line">                            if( index_title &lt; 0 &amp;&amp; index_content &lt; 0 )&#123;</span><br><span class="line">                                isMatch = false;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line">                                if (index_content &lt; 0) &#123;</span><br><span class="line">                                    index_content = 0;</span><br><span class="line">                                &#125;</span><br><span class="line">                                if (i == 0) &#123;</span><br><span class="line">                                    first_occur = index_content;</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                    // show search results</span><br><span class="line">                    if (isMatch) &#123;</span><br><span class="line">                        str += &quot;&lt;li&gt;&lt;a href=&#x27;&quot;+ data_url +&quot;&#x27; class=&#x27;search-result-title&#x27; target=&#x27;_blank&#x27;&gt;&quot;+ &quot;&gt; &quot; + data_title +&quot;&lt;/a&gt;&quot;;</span><br><span class="line">                        var content = data.content.trim().replace(/&lt;[^&gt;]+&gt;/g,&quot;&quot;);</span><br><span class="line">                        if (first_occur &gt;= 0) &#123;</span><br><span class="line">                            // cut out characters</span><br><span class="line">                            var start = first_occur - 6;</span><br><span class="line">                            var end = first_occur + 6;</span><br><span class="line">                            if(start &lt; 0)&#123;</span><br><span class="line">                                start = 0;</span><br><span class="line">                            &#125;</span><br><span class="line">                            if(start == 0)&#123;</span><br><span class="line">                                end = 10;</span><br><span class="line">                            &#125;</span><br><span class="line">                            if(end &gt; content.length)&#123;</span><br><span class="line">                                end = content.length;</span><br><span class="line">                            &#125;</span><br><span class="line">                            var match_content = content.substr(start, end); </span><br><span class="line">                            // highlight all keywords</span><br><span class="line">                            keywords.forEach(function(keyword)&#123;</span><br><span class="line">                                var regS = new RegExp(keyword, &quot;gi&quot;);</span><br><span class="line">                                match_content = match_content.replace(regS, &quot;&lt;em class=\&quot;search-keyword\&quot;&gt;&quot;+keyword+&quot;&lt;/em&gt;&quot;);</span><br><span class="line">                            &#125;)</span><br><span class="line">                            str += &quot;&lt;p class=\&quot;search-result\&quot;&gt;&quot; + match_content +&quot;...&lt;/p&gt;&quot;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">                $resultContent.innerHTML = str;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>F12调试显示searchFunc没有定义，直接把调用放left-col.ejs,通过了。<br>又显示$.ajax不行，在search.js，插一条alert(xxxx);，有弹窗出来。<br>百度是jquery没有，layout.ejs文件里是有<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>,不明原因，直接把它也插到left-col.ejs里。调试没出错了</p><h2 id="5-实现search"><a href="#5-实现search" class="headerlink" title="5.实现search"></a>5.实现search</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;nav class=&quot;header-smart-menu&quot;&gt;</span><br><span class="line">    &lt;% for (var i in theme.smart_menu)&#123; %&gt;</span><br><span class="line">    &lt;% if(theme.smart_menu[i])&#123; %&gt;</span><br><span class="line">    &lt;a q-on=&quot;click: openSlider(e, &#x27;&lt;%-i%&gt;&#x27;)&quot; href=&quot;javascript:void(0)&quot;&gt;&lt;%= theme.smart_menu[i] %&gt;&lt;/a&gt;</span><br><span class="line">    &lt;% &#125; %&gt;</span><br><span class="line">            &lt;%&#125;%&gt;</span><br><span class="line">&lt;/nav&gt;</span><br><span class="line">&lt;!-- 具体修改的内容在下面 --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;form id=&quot;search-form&quot;&gt; &lt;!-- 搜索框相关 --&gt;</span><br><span class="line">    &lt;input type=&quot;text&quot; id=&quot;local-search-input&quot; name=&quot;q&quot; results=&quot;0&quot; style=&quot;text-align:center&quot; placeholder=&quot;站内搜索...&quot; class=&quot;search form-control&quot; autocomplete=&quot;off&quot; autocorrect=&quot;off&quot;/&gt;</span><br><span class="line">    &lt;i class=&quot;fa fa-times&quot; onclick=&quot;resetSearch()&quot;&gt;&lt;/i&gt; &lt;!-- 清空/重置搜索框 --&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;div id=&quot;local-search-result&quot;&gt;&lt;/div&gt; &lt;!-- 搜索结果区 --&gt;</span><br><span class="line">&lt;p class=&#x27;no-result&#x27;&gt;没找到。。。&lt;/p&gt; &lt;!-- 无匹配时显示，注意请在 CSS 中设置默认隐藏 --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/search.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var path = &quot;/search.xml&quot;;</span><br><span class="line">searchFunc(path, &#x27;local-search-input&#x27;, &#x27;local-search-result&#x27;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="如何修改背景色"><a href="#如何修改背景色" class="headerlink" title="如何修改背景色"></a>如何修改背景色</h1><p><a href="https://blog.csdn.net/weixin_41287260/article/details/103050813">https://blog.csdn.net/weixin_41287260/article/details/103050813</a></p><p>建议不要改哈，用原生的比较好看，不然还要改各种字体</p><h1 id="如何部署到码云"><a href="#如何部署到码云" class="headerlink" title="如何部署到码云"></a>如何部署到码云</h1><ul><li><a href="https://juejin.cn/post/6844904144013099022">https://juejin.cn/post/6844904144013099022</a></li></ul><h1 id="为什么本地和远程样式有区别"><a href="#为什么本地和远程样式有区别" class="headerlink" title="为什么本地和远程样式有区别"></a>为什么本地和远程样式有区别</h1><ul><li><p><a href="https://www.zhihu.com/question/319817323/answer/2876342437">https://www.zhihu.com/question/319817323/answer/2876342437</a></p></li><li><p><a href="http://www.hzhcontrols.com/new-1790729.html">http://www.hzhcontrols.com/new-1790729.html</a></p></li></ul><h1 id="如何修改代码样式"><a href="#如何修改代码样式" class="headerlink" title="如何修改代码样式"></a>如何修改代码样式</h1><p><a href="https://blog.csdn.net/weixin_41287260/article/details/103051056">https://blog.csdn.net/weixin_41287260/article/details/103051056</a></p><p>修改pc端口字体大小</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">    margin:0;</span><br><span class="line">    font-size:20px;</span><br><span class="line">    font-family:Helvetica Neue, Helvetica, STHeiTi, Arial, sans-serif;</span><br><span class="line">    line-height:1.5;</span><br><span class="line">    color:#333;</span><br><span class="line">    /* background-color:#fff; */</span><br><span class="line">    min-height:100%;</span><br><span class="line">    background: linear-gradient(rgba(250, 246, 246, 0.5), rgba(255, 255, 255, 0.5)), </span><br><span class="line">    /* url(&#x27;./img/u=1766956309,2956233489&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG.webp&#x27;) no-repeat 0% 0%/ cover; */</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>移动端样式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br></pre></td><td class="code"><pre><span class="line"> @media screen and (max-width:800px) &#123;</span><br><span class="line"></span><br><span class="line">    #container,</span><br><span class="line">    body,</span><br><span class="line">    html &#123;</span><br><span class="line">        height: auto;</span><br><span class="line">        overflow-x: hidden;</span><br><span class="line">        overflow-y: auto</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #mobile-nav &#123;</span><br><span class="line">        display: block</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .body-wrap &#123;</span><br><span class="line">        margin-bottom: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .left-col &#123;</span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .mid-col &#123;</span><br><span class="line">        left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #header .header-nav,</span><br><span class="line">    .mid-col &#123;</span><br><span class="line">        position: relative</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .wrap-side-operation &#123;</span><br><span class="line">        display: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .cloud-tie-wrapper &#123;</span><br><span class="line">        padding: 0;</span><br><span class="line">        min-height: 20px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col &#123;</span><br><span class="line">        left: -300px;</span><br><span class="line">        width: 300px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col .tools-wrap &#123;</span><br><span class="line">        padding-top: 48px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col .tools-section,</span><br><span class="line">    .tools-col .tools-wrap &#123;</span><br><span class="line">        width: 300px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col .tools-section .search-wrap,</span><br><span class="line">    .tools-col .tools-wrap .search-wrap &#123;</span><br><span class="line">        width: 280px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col .tools-section .search-tag.tagcloud,</span><br><span class="line">    .tools-col .tools-wrap .search-tag.tagcloud &#123;</span><br><span class="line">        margin-right: -30px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col .tools-section .search-ul .search-li,</span><br><span class="line">    .tools-col .tools-wrap .search-ul .search-li &#123;</span><br><span class="line">        padding: 5px 20px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .tools-col.show .header-menu.tools-nav &#123;</span><br><span class="line">        display: block</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #container .header-author.fixed &#123;</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: -29px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        color: #ddd</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .mobile-mask &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        background: rgba(217, 199, 199, 0.85);</span><br><span class="line">        z-index: 999</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn &#123;</span><br><span class="line">        position: fixed;</span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        top: -5px;</span><br><span class="line">        z-index: 4</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn .slider-trigger &#123;</span><br><span class="line">        position: absolute;</span><br><span class="line">        z-index: 101;</span><br><span class="line">        width: 42px;</span><br><span class="line">        height: 42px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        line-height: 50px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn .slider-trigger.back &#123;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn .slider-trigger.list &#123;</span><br><span class="line">        bottom: 0;</span><br><span class="line">        left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn .slider-trigger:hover &#123;</span><br><span class="line">        background: #444</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btnctn .slider-trigger .icon &#123;</span><br><span class="line">        font-size: 24px;</span><br><span class="line">        color: #fff</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-header &#123;</span><br><span class="line">        border-left: none;</span><br><span class="line">        padding: 0;</span><br><span class="line">        border-bottom: 1px dotted #ddd</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-header h1 &#123;</span><br><span class="line">        margin-bottom: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-header .archive-article-date &#123;</span><br><span class="line">        float: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-subtitle .icon &#123;</span><br><span class="line">        margin: 0 10px;</span><br><span class="line">        color: #d0d0d0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-info-index.article-info &#123;</span><br><span class="line">        min-height: 40px;</span><br><span class="line">        padding-top: 10px;</span><br><span class="line">        margin: 0;</span><br><span class="line">        border-top: 1px solid #ddd</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-info-post.article-info &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding-top: 10px;</span><br><span class="line">        border: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #viewer-box .viewer-box-l &#123;</span><br><span class="line">        font-size: 14px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-nav-link-wrap &#123;</span><br><span class="line">        margin: 5px 0;</span><br><span class="line">        display: block;</span><br><span class="line">        clear: both</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article-nav-link-wrap .icon-circle-right &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        margin: 6px 4px 0 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article &#123;</span><br><span class="line">        margin: 20px;</span><br><span class="line">        border: 1px solid #090202;</span><br><span class="line">        border-top: 1px solid #0f0808;</span><br><span class="line">        border-bottom: 1px solid #0b0404;</span><br><span class="line">        background: rgba(243, 229, 229, 0.966);</span><br><span class="line">        transition: all .2s ease-in</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    .article .article-more-link &#123;</span><br><span class="line">        margin: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-entry &#123;</span><br><span class="line">        padding: 10px 0 30px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-inner h1.article-title,</span><br><span class="line">    .article .article-title &#123;</span><br><span class="line">        font-size: 12px;</span><br><span class="line">        font-weight: 300;</span><br><span class="line">        display: block;</span><br><span class="line">        margin: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta &#123;</span><br><span class="line">        width: auto;</span><br><span class="line">        height: 20px;</span><br><span class="line">        margin-top: -5px;</span><br><span class="line">        position: ralative</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-date &#123;</span><br><span class="line">        font-size: 12px;</span><br><span class="line">        border-radius: 0;</span><br><span class="line">        color: #070303;</span><br><span class="line">        background: none;</span><br><span class="line">        height: auto;</span><br><span class="line">        padding: 0;</span><br><span class="line">        margin: 0;</span><br><span class="line">        width: 100%;</span><br><span class="line">        text-align: left;</span><br><span class="line">        margin-left: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-date time &#123;</span><br><span class="line">        width: auto;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-right: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-tag-list &#123;</span><br><span class="line">        margin-top: 7px;</span><br><span class="line">        position: absolute;</span><br><span class="line">        right: 10px;</span><br><span class="line">        top: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-tag-list:before &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        margin-top: 1px;</span><br><span class="line">        left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-tag-list .article-tag-list-item &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        padding-left: 0;</span><br><span class="line">        width: auto;</span><br><span class="line">        max-width: 83px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-category &#123;</span><br><span class="line">        margin-top: 7px;</span><br><span class="line">        position: absolute;</span><br><span class="line">        right: 10px;</span><br><span class="line">        top: -30px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-category:before &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        margin-top: 1px;</span><br><span class="line">        left: 15px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article .article-meta .article-category .article-category-link &#123;</span><br><span class="line">        max-width: 83px;</span><br><span class="line">        width: auto;</span><br><span class="line">        padding-left: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .article #article-nav-older &#123;</span><br><span class="line">        float: none;</span><br><span class="line">        display: block</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .share &#123;</span><br><span class="line">        padding: 3px 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #disqus_thread,</span><br><span class="line">    .duoshuo &#123;</span><br><span class="line">        padding: 0 13px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #article-nav &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        padding: 5px 10px 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #article-nav #article-nav-older &#123;</span><br><span class="line">        float: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #article-nav .article-nav-link-wrap .article-nav-title &#123;</span><br><span class="line">        font-size: 16px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #page-nav .extend &#123;</span><br><span class="line">        opacity: 1</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .instagram .open-ins &#123;</span><br><span class="line">        left: 2px;</span><br><span class="line">        top: -30px;</span><br><span class="line">        color: #aaa</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .info-on-right &#123;</span><br><span class="line">        float: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap &#123;</span><br><span class="line">        margin: 10px 10px 0;</span><br><span class="line">        padding: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap .archive-article-title &#123;</span><br><span class="line">        font-size: 16px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap .archive-year-wrap &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        padding: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap .archive-year-wrap a &#123;</span><br><span class="line">        padding: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap .article-meta .archive-article-date &#123;</span><br><span class="line">        font-size: 12px;</span><br><span class="line">        margin-right: 10px;</span><br><span class="line">        margin-top: -5px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives-wrap .article-meta .article-tag-list-link &#123;</span><br><span class="line">        font-size: 12px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .archives .archive-article &#123;</span><br><span class="line">        padding: 10px 0;</span><br><span class="line">        margin-left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #footer &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        bottom: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #footer .footer-left &#123;</span><br><span class="line">        float: none;</span><br><span class="line">        margin-bottom: 10px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #footer .footer-right &#123;</span><br><span class="line">        float: none</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #mobile-nav .header-author &#123;</span><br><span class="line">        margin: 0;</span><br><span class="line">        position: relative;</span><br><span class="line">        z-index: 2;</span><br><span class="line">        color: #424242</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #mobile-nav .overlay &#123;</span><br><span class="line">        height: 110px;</span><br><span class="line">        position: absolute;</span><br><span class="line">        width: 100%;</span><br><span class="line">        z-index: 2;</span><br><span class="line">        background: #4d4d4d</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #mobile-nav #header &#123;</span><br><span class="line">        padding: 10px 0 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    #mobile-nav #header .profilepic &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        position: relative;</span><br><span class="line">        z-index: 100</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu &#123;</span><br><span class="line">        height: auto;</span><br><span class="line">        margin: 10px 0 20px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu.tools-nav &#123;</span><br><span class="line">        display: none;</span><br><span class="line">        position: fixed;</span><br><span class="line">        left: 0;</span><br><span class="line">        width: 100%;</span><br><span class="line">        z-index: 9999</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu.tools-nav ul &#123;</span><br><span class="line">        margin-right: 28px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu.tools-nav li,</span><br><span class="line">    .header-menu.tools-nav ul &#123;</span><br><span class="line">        border-color: #fff</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu.tools-nav li a,</span><br><span class="line">    .header-menu.tools-nav ul a &#123;</span><br><span class="line">        color: #fff</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu.tools-nav li a.active,</span><br><span class="line">    .header-menu.tools-nav ul a.active &#123;</span><br><span class="line">        background: #81b5cc</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu ul &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        cursor: default;</span><br><span class="line">        display: -webkit-box;</span><br><span class="line">        display: -ms-flexbox;</span><br><span class="line">        display: flex;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        -webkit-box-align: center;</span><br><span class="line">        -ms-flex-align: center;</span><br><span class="line">        align-items: center;</span><br><span class="line">        -ms-flex-pack: distribute;</span><br><span class="line">        justify-content: space-around;</span><br><span class="line">        position: relative;</span><br><span class="line">        z-index: 1;</span><br><span class="line">        border: 1px solid #a0a0a0;</span><br><span class="line">        border-radius: 3px</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu li &#123;</span><br><span class="line">        border-left: 1px solid #a0a0a0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu li:first-child &#123;</span><br><span class="line">        border-left: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu li:last-child &#123;</span><br><span class="line">        border-right: 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu li a &#123;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        text-overflow: ellipsis;</span><br><span class="line">        white-space: nowrap;</span><br><span class="line">        display: block;</span><br><span class="line">        color: #a0a0a0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-menu li a.active &#123;</span><br><span class="line">        color: #eaeaea;</span><br><span class="line">        background: #a0a0a0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .profilepic &#123;</span><br><span class="line">        display: block;</span><br><span class="line">        border: 5px solid #fff;</span><br><span class="line">        border-radius: 300px;</span><br><span class="line">        width: 128px;</span><br><span class="line">        height: 128px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        position: relative;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        background: #88acdb;</span><br><span class="line">        -webkit-transition: all .2s ease-in;</span><br><span class="line">        display: -webkit-box;</span><br><span class="line">        -webkit-box-orient: horizontal;</span><br><span class="line">        -webkit-box-pack: center;</span><br><span class="line">        -webkit-box-align: center;</span><br><span class="line">        text-align: center</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-author &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        margin: .67em 0;</span><br><span class="line">        font-family: Roboto, serif;</span><br><span class="line">        font-size: 30px;</span><br><span class="line">        transition: .3s</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .header-subtitle &#123;</span><br><span class="line">        text-align: center;</span><br><span class="line">        color: #999;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 25px;</span><br><span class="line">        overflow: hidden;</span><br><span class="line">        text-overflow: ellipsis;</span><br><span class="line">        display: -webkit-box;</span><br><span class="line">        -webkit-line-clamp: 2;</span><br><span class="line">        -webkit-box-orient: vertical;</span><br><span class="line">        padding: 0 24px</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure><h1 id="接入评论系统"><a href="#接入评论系统" class="headerlink" title="接入评论系统"></a>接入评论系统</h1><ul><li><p><a href="https://console.leancloud.cn/account/verify">https://console.leancloud.cn/account/verify</a></p></li><li><p>用git 的形式<a href="https://www.dandelioncloud.cn/article/details/1495016180728561665">https://www.dandelioncloud.cn/article/details/1495016180728561665</a></p></li><li><p><a href="https://github.com/settings/applications/2407901">https://github.com/settings/applications/2407901</a></p></li><li><p>使用gittalk</p></li><li><p><a href="https://blog.csdn.net/tangguoxing000/article/details/104187400">https://blog.csdn.net/tangguoxing000/article/details/104187400</a></p></li><li><p><strong>推荐使用畅言</strong></p></li><li><p><a href="https://changyan.kuaizhan.com/v3/changyan/overview">https://changyan.kuaizhan.com/v3/changyan/overview</a></p></li></ul><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231210113200093.png" alt="image-20231210113200093"></p><p>配置到yilia的config.yml里面即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#3、畅言</span><br><span class="line">changyan_appid: cyx2mTY0U</span><br><span class="line">changyan_conf: 668c5e8c687da163f670569a23b7f88b</span><br></pre></td></tr></table></figure><h1 id="如何添加目录"><a href="#如何添加目录" class="headerlink" title="如何添加目录"></a>如何添加目录</h1><p>在yilia的_config.yml文件里配置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 目录</span><br><span class="line"># 目录设定：0-不显示目录； 1-文章对应的md文件里有toc:true属性，才有目录； 2-所有文章均显示目录</span><br><span class="line">toc: 2</span><br><span class="line"># 根据自己的习惯来设置，如果你的目录标题习惯有标号，置为true即可隐藏hexo重复的序号；否则置为false</span><br><span class="line">toc_hide_index: true</span><br><span class="line"># 目录为空时的提示</span><br><span class="line">toc_empty_wording: &#x27;目录，不存在的…&#x27;</span><br><span class="line"></span><br><span class="line"># 是否有快速回到顶部的按钮</span><br><span class="line">top: true</span><br></pre></td></tr></table></figure><p>前置目录设为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 目录内容 --&gt;</span><br><span class="line">&lt;% if (!index &amp;&amp; post.toc)&#123; %&gt;</span><br><span class="line">  &lt;p class=&quot;show-toc-btn&quot; id=&quot;show-toc-btn&quot; onclick=&quot;showToc();&quot; style=&quot;display:none&quot;&gt;</span><br><span class="line">  &lt;span class=&quot;btn-bg&quot;&gt;&lt;/span&gt;</span><br><span class="line">  &lt;span class=&quot;btn-text&quot;&gt;文章导航&lt;/span&gt;</span><br><span class="line">  &lt;/p&gt;</span><br><span class="line">  &lt;div id=&quot;toc-article&quot; class=&quot;toc-article&quot;&gt;</span><br><span class="line">      &lt;span id=&quot;toc-close&quot; class=&quot;toc-close&quot; title=&quot;隐藏导航&quot; onclick=&quot;showBtn();&quot;&gt;×&lt;/span&gt;</span><br><span class="line">      &lt;strong class=&quot;toc-title&quot;&gt;文章目录&lt;/strong&gt;</span><br><span class="line">      &lt;%- toc(post.content) %&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"> &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">  function showToc()&#123;</span><br><span class="line">      var toc_article = document.getElementById(&quot;toc-article&quot;);</span><br><span class="line">      var show_toc_btn = document.getElementById(&quot;show-toc-btn&quot;);</span><br><span class="line">      toc_article.setAttribute(&quot;style&quot;,&quot;display:block&quot;);</span><br><span class="line">      show_toc_btn.setAttribute(&quot;style&quot;,&quot;display:none&quot;);</span><br><span class="line">      &#125;;</span><br><span class="line">  function showBtn()&#123;</span><br><span class="line">      var toc_article = document.getElementById(&quot;toc-article&quot;);</span><br><span class="line">      var show_toc_btn = document.getElementById(&quot;show-toc-btn&quot;);</span><br><span class="line">      toc_article.setAttribute(&quot;style&quot;,&quot;display:none&quot;);</span><br><span class="line">      show_toc_btn.setAttribute(&quot;style&quot;,&quot;display:block&quot;);</span><br><span class="line">      &#125;;</span><br><span class="line"> &lt;/script&gt;</span><br><span class="line">&lt;% &#125; %&gt;     </span><br><span class="line">&lt;!-- 目录内容结束 --&gt;</span><br></pre></td></tr></table></figure><h1 id="如何添加密码"><a href="#如何添加密码" class="headerlink" title="如何添加密码"></a>如何添加密码</h1><ul><li>在模板文件任意位置插入</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  &lt;script&gt;</span><br><span class="line">    (function()&#123;</span><br><span class="line">      let password2 =  &#x27;&lt;%= page.password2 %&gt;&#x27; ;</span><br><span class="line">      if(password2 != &#x27;&#x27;)&#123;</span><br><span class="line">        if(prompt(&#x27;请输入密码&#x27;) != password2)&#123;</span><br><span class="line">            history.back();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><ul><li>标题位置配置密码</li></ul><h1 id="如何点击图片放大"><a href="#如何点击图片放大" class="headerlink" title="如何点击图片放大"></a>如何点击图片放大</h1><ul><li><a href="https://blog.csdn.net/smileyan9/article/details/124333810">https://blog.csdn.net/smileyan9/article/details/124333810</a></li></ul><h1 id="如何接入分享"><a href="#如何接入分享" class="headerlink" title="如何接入分享"></a>如何接入分享</h1><ul><li><a href="https://new.dashboard.mob.com/#/shareSDK">https://new.dashboard.mob.com/#/shareSDK</a> sdk网站</li><li><a href="https://www.jianshu.com/p/cb0a105d7a81">https://www.jianshu.com/p/cb0a105d7a81</a> 操作指南</li></ul><h1 id="如何隐藏左边侧栏"><a href="#如何隐藏左边侧栏" class="headerlink" title="如何隐藏左边侧栏"></a>如何隐藏左边侧栏</h1><p><a href="https://cqh-i.github.io/2019/08/07/hexo-yilia%E4%B8%BB%E9%A2%98%E6%B7%BB%E5%8A%A0%E9%9A%90%E8%97%8F%E5%B7%A6%E8%BE%B9%E6%A0%8F%E7%9B%AE%E6%8C%89%E9%92%AE/">hexo yilia主题添加隐藏左边栏目按钮 | 锦瑟年华,逐梦之人 (cqh-i.github.io)</a></p><h1 id="如何防爬"><a href="#如何防爬" class="headerlink" title="如何防爬"></a>如何防爬</h1><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">要实现输入密码后才显示某个内容的逻辑，您可以通过将这段逻辑与密码检查相关联的代码整合在一起。以下是一个简单的改进版本：</span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;article-entry&quot; itemprop=&quot;articleBody&quot;&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    (function()&#123;</span><br><span class="line">      var showAllArticle = &quot;1&quot;;</span><br><span class="line">      alert(showAllArticle)</span><br><span class="line">      let password2 = &#x27;&lt;%= page.password2 %&gt;&#x27;;</span><br><span class="line">      var passwordEntered = false; // 定义一个变量来跟踪密码是否输入正确</span><br><span class="line"></span><br><span class="line">      if(password2 != &#x27;&#x27;)&#123;</span><br><span class="line">        passwordEntered = prompt(&#x27;请输入密码&#x27;) === password2;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // 基于密码输入结果，进行处理</span><br><span class="line">      if (!passwordEntered &amp;&amp; password2 != &#x27;&#x27;) &#123;</span><br><span class="line">          history.back();</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      // 当密码正确，或没有设置密码时进行内容显示</span><br><span class="line">      window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">          if (passwordEntered || password2 === &#x27;&#x27;) &#123;</span><br><span class="line">              document.getElementById(&#x27;protectedContent&#x27;).style.display = &#x27;block&#x27;;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)();</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;% if (page.type === &quot;tags&quot;) &#123; %&gt;</span><br><span class="line">    ... (其他内容)</span><br><span class="line">  &lt;% &#125; else if (page.type === &#x27;categories&#x27;) &#123; %&gt;</span><br><span class="line">    ... (其他内容)</span><br><span class="line">  &lt;% &#125; else &#123; %&gt;</span><br><span class="line">    &lt;!-- 这部分内容受密码保护 --&gt;</span><br><span class="line">    &lt;div id=&quot;protectedContent&quot; style=&quot;display: none;&quot;&gt;</span><br><span class="line">      &lt;% if (post.excerpt &amp;&amp; index)&#123; %&gt;     </span><br><span class="line">        &lt;%- post.excerpt %&gt;</span><br><span class="line">      &lt;% &#125; else &#123; %&gt;</span><br><span class="line">        &lt;%- post.content %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;article-entry&quot; itemprop=&quot;articleBody&quot;&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    (function()&#123;</span><br><span class="line">      var showAllArticle = &quot;1&quot;;</span><br><span class="line">      alert(showAllArticle)</span><br><span class="line">      let password2 = &#x27;&lt;%= page.password2 %&gt;&#x27;;</span><br><span class="line">      var passwordEntered = false; // 定义一个变量来跟踪密码是否输入正确</span><br><span class="line"></span><br><span class="line">      if(password2 != &#x27;&#x27;)&#123;</span><br><span class="line">        passwordEntered = prompt(&#x27;请输入密码&#x27;) === password2;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      // 基于密码输入结果，进行处理</span><br><span class="line">      if (!passwordEntered &amp;&amp; password2 != &#x27;&#x27;) &#123;</span><br><span class="line">          history.back();</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      // 当密码正确，或没有设置密码时进行内容显示</span><br><span class="line">      window.addEventListener(&#x27;load&#x27;, function() &#123;</span><br><span class="line">          if (passwordEntered || password2 === &#x27;&#x27;) &#123;</span><br><span class="line">              document.getElementById(&#x27;protectedContent&#x27;).style.display = &#x27;block&#x27;;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;)();</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;% if (page.type === &quot;tags&quot;) &#123; %&gt;</span><br><span class="line">    ... (其他内容)</span><br><span class="line">  &lt;% &#125; else if (page.type === &#x27;categories&#x27;) &#123; %&gt;</span><br><span class="line">    ... (其他内容)</span><br><span class="line">  &lt;% &#125; else &#123; %&gt;</span><br><span class="line">    &lt;!-- 这部分内容受密码保护 --&gt;</span><br><span class="line">    &lt;div id=&quot;protectedContent&quot; style=&quot;display: none;&quot;&gt;</span><br><span class="line">      &lt;% if (post.excerpt &amp;&amp; index)&#123; %&gt;     </span><br><span class="line">        &lt;%- post.excerpt %&gt;</span><br><span class="line">      &lt;% &#125; else &#123; %&gt;</span><br><span class="line">        &lt;%- post.content %&gt;</span><br><span class="line">      &lt;% &#125; %&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;% &#125; %&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">​</span><br><span class="line">注意：</span><br><span class="line"></span><br><span class="line">我引入了 ​passwordEntered​变量来记录用户是否正确输入了密码。</span><br><span class="line">只有当用户正确输入密码后，​protectedContent​元素才会显示（通过JavaScript在文档加载后调整样式）。</span><br><span class="line">这种做法不是特别安全，因为JavaScript中定义的所有东西都可以被用户检查和修改。更安全的方法会涉及服务端验证，但这需要服务器支持，这里只提供基于客户端的简单方式。</span><br></pre></td></tr></table></figure><h1 id="如何保证你的仓库安全"><a href="#如何保证你的仓库安全" class="headerlink" title="如何保证你的仓库安全"></a>如何保证你的仓库安全</h1><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231223210214709.png" alt="image-20231223210214709"></p><p>把推拉代码关掉 就没办法拉取你的代码了</p><h1 id="如何生成PPT"><a href="#如何生成PPT" class="headerlink" title="如何生成PPT"></a>如何生成PPT</h1><p><a href="https://blog.csdn.net/qq_43453731/article/details/106200454">https://blog.csdn.net/qq_43453731/article/details/106200454</a></p><p>用这种方式构建好PPT</p><p>在用链接引用PPT地址就可以</p><p><img src="https://gulimall-chenbaitao.oss-cn-hangzhou.aliyuncs.com/typora/image-20231223221359261.png" alt="image-20231223221359261"></p><h1 id="如何过滤某些标签"><a href="#如何过滤某些标签" class="headerlink" title="如何过滤某些标签"></a>如何过滤某些标签</h1><p><a href="https://blog.csdn.net/melordljm/article/details/51833062">https://blog.csdn.net/melordljm/article/details/51833062</a></p><h1 id="如何生成日历云"><a href="#如何生成日历云" class="headerlink" title="如何生成日历云"></a>如何生成日历云</h1><p><a href="https://blog.csdn.net/SpkingR/article/details/83473482">https://blog.csdn.net/SpkingR/article/details/83473482</a></p><p>值得注意的是需要修改calendar.js 让链接可以关联到</p><p>还有css文件要自己调整一下</p>]]></content>
      
      
      <categories>
          
          <category> IT </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 过滤 </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
    
    
    <entry>
      <title>分类 |归档</title>
      <link href="/categories/index.html"/>
      <url>/categories/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
    
    <entry>
      <title>标签</title>
      <link href="/tags/index.html"/>
      <url>/tags/index.html</url>
      
        <content type="html"><![CDATA[]]></content>
      
    </entry>
    
    
  
</search>
